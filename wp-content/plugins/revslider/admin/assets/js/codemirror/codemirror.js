window.CodeMirror=function(){"use strict";function e(l,u){function f(e){Ht.onDragEvent&&Ht.onDragEvent(In,T(e))||N(e)}function g(e){return e>=0&&e<on.size}function m(e){return C(on,e)}function M(e,t){mn=!0;for(var n=t-e.height,r=e;r;r=r.parent)r.height+=n}function L(e,t){return e.styles||e.highlight(en,e.stateAfter=At(b(e)),Ht.tabSize),e.getContent(Ht.tabSize,t,Ht.lineWrapping)}function O(e){var t={line:0,ch:0};ve(t,{line:on.size-1,ch:m(on.size-1).text.length},Se(e),t,t),cn=!0}function X(e,t){if("string"==typeof e&&!(e=ie[e]))return!1;var n=an;try{Ht.readOnly&&(Sn=!0),t&&(an=null),e(In)}catch(e){if(e!=ye)throw e;return!1}finally{an=n,Sn=!1}return!0}function Q(e){function i(){f=!0}var o=t(Ht.keyMap),l=o.auto;clearTimeout(Rn),l&&!r(e)&&(Rn=setTimeout(function(){t(Ht.keyMap)==o&&(Ht.keyMap=l.call?l.call(null,In):l)},50));var a=we[D(e,"keyCode")],s=!1,u=de&&q;if(null==a||e.altGraphKey)return!1;D(e,"altKey")&&(a="Alt-"+a),D(e,u?"metaKey":"ctrlKey")&&(a="Ctrl-"+a),D(e,u?"ctrlKey":"metaKey")&&(a="Cmd-"+a);var f=!1;return s=D(e,"shiftKey")?n("Shift-"+a,Ht.extraKeys,Ht.keyMap,function(e){return X(e,!0)},i)||n(a,Ht.extraKeys,Ht.keyMap,function(e){if("string"==typeof e&&/^go[A-Z]/.test(e))return X(e)},i):n(a,Ht.extraKeys,Ht.keyMap,X,i),f&&(s=!1),s&&(A(e),wt(),ae&&(e.oldKeyCode=e.keyCode,e.keyCode=0)),s}function ee(e,t){var r=n("'"+t+"'",Ht.extraKeys,Ht.keyMap,function(e){return X(e,!0)});return r&&(A(e),wt()),r}function re(e){if(tn||he(),ae&&27==e.keyCode&&(e.returnValue=!1),Wn&&Oe()&&(Wn=!1),!Ht.onKeyEvent||!Ht.onKeyEvent(In,T(e))){var t=D(e,"keyCode");je(16==t||D(e,"shiftKey"));var n=Q(e);de&&(Pn=n?t:null,!n&&88==t&&D(e,q?"metaKey":"ctrlKey")&&Ne(""))}}function he(){"nocursor"!=Ht.readOnly&&(tn||(Ht.onFocus&&Ht.onFocus(In),tn=!0,-1==Jt.className.search(/\bCodeMirror-focused\b/)&&(Jt.className+=" CodeMirror-focused")),ze(),wt())}function pe(){tn&&(Ht.onBlur&&Ht.onBlur(In),tn=!1,yn&&Dt(function(){yn&&(yn(),yn=null)})(),Jt.className=Jt.className.replace(" CodeMirror-focused","")),clearInterval(Qt),setTimeout(function(){tn||(an=null)},150)}function ve(e,t,n,r,i){if(!Sn){var o=[];if(on.iter(e.line,t.line+1,function(e){o.push(p(e.text,e.markedSpans))}),zn)for(zn.addChange(e.line,n.length,o);zn.done.length>Ht.undoDepth;)zn.done.shift();be(e,t,c(d(o[0]),d(B(o)),e.ch,t.ch,n),r,i)}}function Ce(e,t){if(e.length){for(var n=e.pop(),r=[],i=n.length-1;i>=0;i-=1){var o=n[i],l=[],a=o.start+o.added;on.iter(o.start,a,function(e){l.push(p(e.text,e.markedSpans))}),r.push({start:o.start,added:o.old.length,old:l});var s={line:o.start+o.old.length-1,ch:j(h(B(l)),h(B(o.old)))};be({line:o.start,ch:0},{line:a-1,ch:m(a-1).text.length},o.old,s,s)}cn=!0,t.push(r)}}function be(e,t,n,r,i){function o(e){return e<=Math.min(t.line,t.line+C)?e:e+C}if(!Sn){var l=!1,a=Ln.text.length;Ht.lineWrapping||on.iter(e.line,t.line+1,function(e){if(!e.hidden&&e.text.length==a)return l=!0,!0}),(e.line!=t.line||n.length>1)&&(mn=!0);var s=t.line-e.line,u=m(e.line),f=m(t.line),c=B(n);if(0==e.ch&&0==t.ch&&""==h(c)){for(var p=[],g=0,y=n.length-1;g<y;++g)p.push(new v(h(n[g]),d(n[g])));f.update(f.text,d(c)),s&&on.remove(e.line,s,vn),p.length&&on.insert(e.line,p)}else if(u==f)if(1==n.length)u.update(u.text.slice(0,e.ch)+h(n[0])+u.text.slice(t.ch),d(n[0]));else{for(var p=[],g=1,y=n.length-1;g<y;++g)p.push(new v(h(n[g]),d(n[g])));p.push(new v(h(c)+u.text.slice(t.ch),d(c))),u.update(u.text.slice(0,e.ch)+h(n[0]),d(n[0])),on.insert(e.line+1,p)}else if(1==n.length)u.update(u.text.slice(0,e.ch)+h(n[0])+f.text.slice(t.ch),d(n[0])),on.remove(e.line+1,s,vn);else{p=[],u.update(u.text.slice(0,e.ch)+h(n[0]),d(n[0])),f.update(h(c)+f.text.slice(t.ch),d(c));for(var g=1,y=n.length-1;g<y;++g)p.push(new v(h(n[g]),d(n[g])));s>1&&on.remove(e.line+1,s-1,vn),on.insert(e.line+1,p)}if(Ht.lineWrapping){var x=Math.max(5,Jt.clientWidth/xt()-3);on.iter(e.line,e.line+n.length,function(e){if(!e.hidden){var t=Math.ceil(e.text.length/x)||1;t!=e.height&&M(e,t)}})}else on.iter(e.line,e.line+n.length,function(e){var t=e.text;!e.hidden&&t.length>a&&(Ln=e,a=t.length,En=!0,l=!1)}),l&&(Nn=!0);ln=Math.min(ln,e.line),Nt(400);var C=n.length-s-1;if(dn.push({from:e.line,to:t.line+1,diff:C}),Ht.onChange){for(g=0;g<n.length;++g)"string"!=typeof n[g]&&(n[g]=n[g].text);var b={from:e,to:t,text:n};if(pn){for(var S=pn;S.next;S=S.next);S.next=b}else pn=b}_e(et(r),et(i),o(xn.from.line),o(xn.to.line))}}function Me(){var e=on.height*yt()+2*Ct();return.99*e>Jt.offsetHeight&&e}function Te(e){var t=Me();Kt.style.display=t?"block":"none",t?(Bt.style.height=_t.style.minHeight=t+"px",Kt.style.height=Jt.clientHeight+"px",null!=e&&(Kt.scrollTop=Jt.scrollTop=e,ce&&setTimeout(function(){Kt.scrollTop==e&&(Kt.scrollTop=e+(e?-1:1),Kt.scrollTop=e)},0))):_t.style.minHeight="",Zt.style.top=wn*yt()+"px"}function Ae(){Ln=m(0),En=!0;var e=Ln.text.length;on.iter(1,on.size,function(t){var n=t.text;!t.hidden&&n.length>e&&(e=n.length,Ln=t)}),Nn=!1}function Le(e,t,n){function r(r){if(U(r,t))return r;if(!U(n,r))return i;var o=r.line+e.length-(n.line-t.line)-1,l=r.ch;return r.line==n.line&&(l+=B(e).length-(n.ch-(n.line==t.line?t.ch:0))),{line:o,ch:l}}t=et(t),n=n?et(n):t;var i;return Ee(e=Se(e),t,n,function(e){return i=e,{from:r(xn.from),to:r(xn.to)}}),i}function Ne(e,t){Ee(Se(e),xn.from,xn.to,function(e){return"end"==t?{from:e,to:e}:"start"==t?{from:xn.from,to:xn.from}:{from:xn.from,to:e}})}function Ee(e,t,n,r){var i=1==e.length?e[0].length+t.ch:B(e).length,o=r({line:t.line+e.length-1,ch:i});ve(t,n,e,o.from,o.to)}function We(e,t,n){var r=e.line,i=t.line;if(r==i)return m(r).text.slice(e.ch,t.ch);var o=[m(r).text.slice(e.ch)];return on.iter(r+1,i,function(e){o.push(e.text)}),o.push(m(i).text.slice(0,t.ch)),o.join(n||"\n")}function De(e){return We(xn.from,xn.to,e)}function ze(){Wn||nn.set(Ht.pollInterval,function(){Oe(),tn&&ze()})}function He(){function e(){Oe()||t?(Wn=!1,ze()):(t=!0,nn.set(60,e))}var t=!1;Wn=!0,nn.set(20,e)}function Oe(){if(!tn||ke(It)||Ht.readOnly)return!1;var e=It.value;if(e==Bn)return!1;Xn||Et(),an=null;for(var t=0,n=Math.min(Bn.length,e.length);t<n&&Bn[t]==e[t];)++t;return t<Bn.length?xn.from={line:xn.from.line,ch:xn.from.ch-(Bn.length-t)}:bn&&F(xn.from,xn.to)&&!kn&&(xn.to={line:xn.to.line,ch:Math.min(m(xn.to.line).text.length,xn.to.ch+(e.length-t))}),Ne(e.slice(t),"end"),e.length>1e3?It.value=Bn="":Bn=e,Xn||Wt(),kn=!1,!0}function Re(e){F(xn.from,xn.to)?e&&(Bn=It.value=""):(Bn="",It.value=De(),tn&&K(It))}function Ie(){"nocursor"!=Ht.readOnly&&It.focus()}function Pe(){var e=Be();if(Ke(e.x,e.y,e.x,e.yBot),tn){var t=_t.getBoundingClientRect(),n=null;if(e.y+t.top<0?n=!0:e.y+t.top+yt()>(window.innerHeight||document.documentElement.clientHeight)&&(n=!1),null!=n){var r="none"==Vt.style.display;r&&(Vt.style.display="",Vt.style.left=e.x+"px",Vt.style.top=e.y-wn+"px"),Vt.scrollIntoView(n),r&&(Vt.style.display="none")}}}function Be(){var e=gt(xn.inverted?xn.from:xn.to);return{x:Ht.lineWrapping?Math.min(e.x,$t.offsetWidth):e.x,y:e.y,yBot:e.yBot}}function Ke(e,t,n,r){var i=Fe(e,t,n,r);null!=i.scrollLeft&&(Jt.scrollLeft=i.scrollLeft),null!=i.scrollTop&&(Kt.scrollTop=Jt.scrollTop=i.scrollTop)}function Fe(e,t,n,r){var i=bt(),o=Ct();t+=o,r+=o,e+=i,n+=i;var l=Jt.clientHeight,a=Kt.scrollTop,s={},u=Me()||1/0,f=t<o+10,c=r+o>u-10;t<a?s.scrollTop=f?0:Math.max(0,t):r>a+l&&(s.scrollTop=(c?u:r)-l);var h=Jt.clientWidth,d=Jt.scrollLeft,p=Ht.fixedGutter?jt.clientWidth:0,g=e<p+i+10;return e<d+p||g?(g&&(e=0),s.scrollLeft=Math.max(0,e-10-p)):n>h+d-3&&(s.scrollLeft=n+10-h),s}function Ue(e){var t=yt(),n=(null!=e?e:Kt.scrollTop)-Ct(),r=Math.max(0,Math.floor(n/t)),i=Math.ceil((n+Jt.clientHeight)/t);return{from:S(on,r),to:S(on,i)}}function Ve(e,t,n){function r(){var e=Ft.firstChild,t=!1;return on.iter(Mn,Tn,function(n){if(e){if(!n.hidden){var r=Math.round(e.offsetHeight/c)||1;n.height!=r&&(M(n,r),mn=t=!0)}e=e.nextSibling}}),t}if(Jt.clientWidth){var i=Ue(n);if(!0!==e&&0==e.length&&i.from>Mn&&i.to<Tn)Te(n);else{var o=Math.max(i.from-100,0),l=Math.min(on.size,i.to+100);Mn<o&&o-Mn<20&&(o=Mn),Tn>l&&Tn-l<20&&(l=Math.min(on.size,Tn));for(var a=!0===e?[]:Ge([{from:Mn,to:Tn,domStart:0}],e),s=0,u=0;u<a.length;++u){var f=a[u];f.from<o&&(f.domStart+=o-f.from,f.from=o),f.to>l&&(f.to=l),f.from>=f.to?a.splice(u--,1):s+=f.to-f.from}if(s!=l-o||o!=Mn||l!=Tn){a.sort(function(e,t){return e.domStart-t.domStart});var c=yt(),h=jt.style.display;Ft.style.display="none",Ye(o,l,a),Ft.style.display=jt.style.display="";var d=o!=Mn||l!=Tn||An!=Jt.clientHeight+c;if(d&&(An=Jt.clientHeight+c),(o!=Mn||l!=Tn&&Ht.onViewportChange)&&setTimeout(function(){Ht.onViewportChange&&Ht.onViewportChange(In,o,l)}),Mn=o,Tn=l,wn=k(on,o),Nt(100),Ft.childNodes.length!=Tn-Mn)throw new Error("BAD PATCH! "+JSON.stringify(a)+" size="+(Tn-Mn)+" nodes="+Ft.childNodes.length);return Ht.lineWrapping&&r(),jt.style.display=h,(d||mn)&&$e()&&Ht.lineWrapping&&r()&&$e(),Te(n),Xe(),!t&&Ht.onUpdate&&Ht.onUpdate(In),!0}Te(n)}}else Mn=Tn=wn=0}function Ge(e,t){for(var n=0,r=t.length||0;n<r;++n){for(var i=t[n],o=[],l=i.diff||0,a=0,s=e.length;a<s;++a){var u=e[a];i.to<=u.from&&i.diff?o.push({from:u.from+l,to:u.to+l,domStart:u.domStart}):i.to<=u.from||i.from>=u.to?o.push(u):(i.from>u.from&&o.push({from:u.from,to:i.from,domStart:u.domStart}),i.to<u.to&&o.push({from:i.to+l,to:u.to+l,domStart:u.domStart+(i.to-u.from)}))}e=o}return e}function Ye(e,t,n){function r(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}if(n.length){for(var i=0,o=Ft.firstChild,l=0;l<n.length;++l){for(var a=n[l];a.domStart>i;)o=r(o),i++;for(var s=0,u=a.to-a.from;s<u;++s)o=o.nextSibling,i++}for(;o;)o=r(o)}else Y(Ft);var f=n.shift(),o=Ft.firstChild,s=e;on.iter(e,t,function(e){if(f&&f.to==s&&(f=n.shift()),!f||f.from>s){if(e.hidden)t=G("pre");else{var t=L(e);e.className&&(t.className=e.className),e.bgClassName&&(t=G("div",[G("pre"," ",e.bgClassName,"position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2"),t],null,"position: relative"))}Ft.insertBefore(t,o)}else o=o.nextSibling;++s})}function $e(){if(Ht.gutter||Ht.lineNumbers){var e=Zt.offsetHeight,t=Jt.clientHeight;jt.style.height=(e-t<2?t:e)+"px";var n,r=document.createDocumentFragment(),i=Mn;if(on.iter(Mn,Math.max(Tn,Mn+1),function(e){if(e.hidden)r.appendChild(G("pre"));else{var t=e.gutterMarker,o=Ht.lineNumbers?Ht.lineNumberFormatter(i+Ht.firstLineNumber):null;t&&t.text?o=t.text.replace("%N%",null!=o?o:""):null==o&&(o=" ");var l=r.appendChild(G("pre",null,t&&t.style));l.innerHTML=o;for(var a=1;a<e.height;++a)l.appendChild(G("br")),l.appendChild(document.createTextNode(" "));t||(n=i)}++i}),jt.style.display="none",$(Xt,r),null!=n&&Ht.lineNumbers){for(var o=Xt.childNodes[n-Mn],l=String(on.size).length,a=I(o.firstChild),s="";a.length+s.length<l;)s+=" ";s&&o.insertBefore(document.createTextNode(s),o.firstChild)}jt.style.display="";var u=Math.abs((parseInt($t.style.marginLeft)||0)-jt.offsetWidth)>2;return $t.style.marginLeft=jt.offsetWidth+"px",mn=!1,u}}function Xe(){var e=F(xn.from,xn.to),t=gt(xn.from,!0),n=e?t:gt(xn.to,!0),r=xn.inverted?t:n,i=yt(),o=R(qt),l=R(Ft);if(Pt.style.top=Math.max(0,Math.min(Jt.offsetHeight,r.y+l.top-o.top))+"px",Pt.style.left=Math.max(0,Math.min(Jt.offsetWidth,r.x+l.left-o.left))+"px",e)Vt.style.top=r.y+"px",Vt.style.left=(Ht.lineWrapping?Math.min(r.x,$t.offsetWidth):r.x)+"px",Vt.style.display="",Ut.style.display="none";else{var a=t.y==n.y,s=document.createDocumentFragment(),u=$t.clientWidth||$t.offsetWidth,f=$t.clientHeight||$t.offsetHeight,c=function(e,t,n,r){var i=fe?"width: "+(n?u-n-e:u)+"px":"right: "+n+"px";s.appendChild(G("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; "+i+"; height: "+r+"px"))};if(xn.from.ch&&t.y>=0){var h=a?u-n.x:0;c(t.x,t.y,h,i)}var d=Math.max(0,t.y+(xn.from.ch?i:0)),p=Math.min(n.y,f)-d;p>.2*i&&c(0,d,0,p),a&&xn.from.ch||!(n.y<f-.5*i)||c(0,n.y,u-n.x,i),$(Ut,s),Vt.style.display="none",Ut.style.display=""}}function je(e){an=e?an||(xn.inverted?xn.to:xn.from):null}function Ze(e,t){var n=an&&et(an);n&&(U(n,e)?e=n:U(t,n)&&(t=n)),_e(e,t),hn=!0}function _e(e,t,n,r){if(Dn=null,null==n&&(n=xn.from.line,r=xn.to.line),!F(xn.from,e)||!F(xn.to,t)){if(U(t,e)){var i=t;t=e,e=i}if(e.line!=n){var o=Je(e,n,xn.from.ch);o?e=o:dt(e.line,!1)}if(t.line!=r&&(t=Je(t,r,xn.to.ch)),F(e,t)?xn.inverted=!1:F(e,xn.to)?xn.inverted=!1:F(t,xn.from)&&(xn.inverted=!0),Ht.autoClearEmptyLines&&F(xn.from,xn.to)&&(xn.inverted?e:t).line!=xn.from.line&&xn.from.line<on.size){var l=m(xn.from.line);/^\s+$/.test(l.text)&&setTimeout(Dt(function(){if(l.parent&&/^\s+$/.test(l.text)){var e=b(l);Le("",{line:e,ch:0},{line:e,ch:l.text.length})}}))}xn.from=e,xn.to=t,gn=!0}}function Je(e,t,n){function r(t){for(var r=e.line+t,i=1==t?on.size:-1;r!=i;){var l=m(r);if(!l.hidden){var a=e.ch;return(o||a>n||a>l.text.length)&&(a=l.text.length),{line:r,ch:a}}r+=t}}var i=m(e.line),o=e.ch==i.text.length&&e.ch!=n;return i.hidden?e.line>=t?r(1)||r(-1):r(-1)||r(1):e}function qe(e,t,n){var r=et({line:e,ch:t||0});(n?Ze:_e)(r,r)}function Qe(e){return Math.max(0,Math.min(e,on.size-1))}function et(e){if(e.line<0)return{line:0,ch:0};if(e.line>=on.size)return{line:on.size-1,ch:m(on.size-1).text.length};var t=e.ch,n=m(e.line).text.length;return null==t||t>n?{line:e.line,ch:n}:t<0?{line:e.line,ch:0}:e}function tt(e,t){function n(){for(var t=o+e,n=e<0?-1:on.size;t!=n;t+=e){var r=m(t);if(!r.hidden)return o=t,a=r,!0}}function r(t){if(l==(e<0?0:a.text.length)){if(t||!n())return!1;l=e<0?a.text.length:0}else l+=e;return!0}var i=xn.inverted?xn.from:xn.to,o=i.line,l=i.ch,a=m(o);if("char"==t)r();else if("column"==t)r(!0);else if("word"==t)for(var s=!1;!(e<0)||r();){if(_(a.text.charAt(l)))s=!0;else if(s){e<0&&(e=1,r());break}if(e>0&&!r())break}return{line:o,ch:l}}function nt(e){var t=m(e.line).text,n=e.ch,r=e.ch;if(t){!1===e.after||r==t.length?--n:++r;for(var i=t.charAt(n),o=_(i)?_:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&_(e)};n>0&&o(t.charAt(n-1));)--n;for(;r<t.length&&o(t.charAt(r));)++r}return{from:{line:e.line,ch:n},to:{line:e.line,ch:r}}}function rt(e){Ze({line:e,ch:0},et({line:e+1,ch:0}))}function it(e,t){if(t||(t="add"),"smart"==t)if(en.indent)var n=At(e);else t="prev";var r,i=m(e),o=i.indentation(Ht.tabSize),l=i.text.match(/^\s*/)[0];"smart"==t&&(r=en.indent(n,i.text.slice(l.length),i.text))==ye&&(t="prev"),"prev"==t?r=e?m(e-1).indentation(Ht.tabSize):0:"add"==t?r=o+Ht.indentUnit:"subtract"==t&&(r=o-Ht.indentUnit),r=Math.max(0,r);var a="",s=0;if(Ht.indentWithTabs)for(var u=Math.floor(r/Ht.tabSize);u;--u)s+=Ht.tabSize,a+="\t";s<r&&(a+=P(r-s)),a!=l&&Le(a,{line:e,ch:0},{line:e,ch:l.length}),i.stateAfter=null}function ot(){en=e.getMode(Ht,Ht.mode),on.iter(0,on.size,function(e){e.stateAfter=null}),ln=0,Nt(100)}function lt(){var e=Ht.gutter||Ht.lineNumbers;jt.style.display=e?"":"none",e?mn=!0:Ft.parentNode.style.marginLeft=0}function at(e,t){if(Ht.lineWrapping){qt.className+=" CodeMirror-wrap";var n=Jt.clientWidth/xt()-3;on.iter(0,on.size,function(e){if(!e.hidden){var t=Math.ceil(e.text.length/n)||1;1!=t&&M(e,t)}}),$t.style.minWidth=Gt.style.left=""}else qt.className=qt.className.replace(" CodeMirror-wrap",""),Ae(),on.iter(0,on.size,function(e){1==e.height||e.hidden||M(e,1)});dn.push({from:0,to:on.size})}function st(){Jt.className=Jt.className.replace(/\s*cm-s-\S+/g,"")+Ht.theme.replace(/(^|\s)\s*/g," cm-s-")}function ut(){var e=oe[Ht.keyMap].style;qt.className=qt.className.replace(/\s*cm-keymap-\S+/g,"")+(e?" cm-keymap-"+e:"")}function ft(e,t){this.lines=[],this.type=e,t&&(this.style=t)}function ct(e,t,n,r){e=et(e),t=et(t);var i=new ft("range",n);if(r)for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);var l=e.line;return on.iter(l,t.line+1,function(n){var r={from:l==e.line?e.ch:null,to:l==t.line?t.ch:null,marker:i};n.markedSpans=(n.markedSpans||[]).concat([r]),i.lines.push(n),++l}),dn.push({from:e.line,to:t.line+1}),i}function ht(e,t){var n=e,r=e;return"number"==typeof e?r=m(Qe(e)):n=b(e),null==n?null:t(r,n)?(dn.push({from:n,to:n+1}),r):null}function dt(e,t){return ht(e,function(e,n){if(e.hidden!=t){e.hidden=t,Ht.lineWrapping||(t&&e.text.length==Ln.text.length?Nn=!0:!t&&e.text.length>Ln.text.length&&(Ln=e,Nn=!1)),M(e,t?0:1);var r=xn.from.line,i=xn.to.line;if(t&&(r==n||i==n)){var o=r==n?Je({line:r,ch:0},r,0):xn.from,l=i==n?Je({line:i,ch:0},i,0):xn.to;if(!l)return;_e(o,l)}return mn=!0}})}function pt(e,t){if(0==t)return{top:0,left:0};var n=L(e,t);$(Yt,n);var r=n.anchor,i=r.offsetTop,o=r.offsetLeft;if(ae&&0==i&&0==o){var l=G("span","x");r.parentNode.insertBefore(l,r.nextSibling),i=l.offsetTop}return{top:i,left:o}}function gt(e,t){var n,r=yt(),i=r*(k(on,e.line)-(t?wn:0));if(0==e.ch)n=0;else{var o=pt(m(e.line),e.ch);n=o.left,Ht.lineWrapping&&(i+=Math.max(0,o.top))}return{x:n,y:i,yBot:i+r}}function mt(e,t){function n(e){var t=pt(a,e);if(u){var n=Math.round(t.top/r);return h=n!=f,Math.max(0,t.left+(n-f)*Jt.clientWidth)}return t.left}var r=yt(),i=xt(),o=wn+Math.floor(t/r);if(o<0)return{line:0,ch:0};var l=S(on,o);if(l>=on.size)return{line:on.size-1,ch:m(on.size-1).text.length};var a=m(l),s=a.text,u=Ht.lineWrapping,f=u?o-k(on,l):0;if(e<=0&&0==f)return{line:l,ch:0};for(var c,h=!1,d=0,p=0,g=s.length,v=Math.min(g,Math.ceil((e+f*Jt.clientWidth*.9)/i));;){var y=n(v);if(!(y<=e&&v<g)){c=y,g=v;break}v=Math.min(g,Math.ceil(1.2*v))}if(e>c)return{line:l,ch:g};for((y=n(v=Math.floor(.8*g)))<e&&(d=v,p=y);;){if(g-d<=1){var x=e-p<c-e;return{line:l,ch:x?d:g,after:x}}var C=Math.ceil((d+g)/2),b=n(C);b>e?(g=C,c=b,h&&(c+=1e3)):(d=C,p=b)}}function vt(e){var t=gt(e,!0),n=R($t);return{x:n.left+t.x,y:n.top+t.y,yBot:n.top+t.yBot}}function yt(){if(null==Un){Un=G("pre");for(var e=0;e<49;++e)Un.appendChild(document.createTextNode("x")),Un.appendChild(G("br"));Un.appendChild(document.createTextNode("x"))}var t=Ft.clientHeight;return t==Fn?Kn:(Fn=t,$(Yt,Un.cloneNode(!0)),Kn=Yt.firstChild.offsetHeight/50||1,Y(Yt),Kn)}function xt(){if(Jt.clientWidth==Yn)return Vn;Yn=Jt.clientWidth;var e=G("span","x"),t=G("pre",[e]);return $(Yt,t),Vn=e.offsetWidth||10}function Ct(){return $t.offsetTop}function bt(){return $t.offsetLeft}function St(e,t){var n,r,i=R(Jt,!0);try{n=e.clientX,r=e.clientY}catch(e){return null}if(!t&&(n-i.left>Jt.clientWidth||r-i.top>Jt.clientHeight))return null;var o=R($t,!0);return mt(n-o.left,r-o.top)}function kt(e){function t(){if(Pt.style.position="relative",It.style.cssText=i,ue&&(Kt.scrollTop=r),ze(),null!=It.selectionStart){clearTimeout(Gn);var e=It.value=" "+(F(xn.from,xn.to)?"":It.value),t=0;Bn=" ",It.selectionStart=1,It.selectionEnd=e.length,Gn=setTimeout(function e(){" "==Bn&&0==It.selectionStart?Dt(ie.selectAll)(In):t++<10?Gn=setTimeout(e,500):Re()},200)}}var n=St(e),r=Kt.scrollTop;if(n&&!de){(F(xn.from,xn.to)||U(n,xn.from)||!U(n,xn.to))&&Dt(qe)(n.line,n.ch);var i=It.style.cssText;if(Pt.style.position="absolute",It.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Ie(),Re(!0),F(xn.from,xn.to)&&(It.value=Bn=" "),le){N(e);var o=z(window,"mouseup",function(){o(),setTimeout(t,20)},!0)}else setTimeout(t,50)}}function wt(){clearInterval(Qt);var e=!0;Vt.style.visibility="",Qt=setInterval(function(){Vt.style.visibility=(e=!e)?"":"hidden"},Ht.cursorBlinkRate)}function Mt(e){var t=xn.inverted?xn.from:xn.to,n=m(t.line),r=t.ch-1,i=r>=0&&$n[n.text.charAt(r)]||$n[n.text.charAt(++r)];if(i){i.charAt(0);for(var o=">"==i.charAt(1),l=o?1:-1,a=n.styles,s=r+1,u=0,f=a.length;u<f;u+=2)if((s-=a[u].length)<=0){g=a[u+1];break}for(var c=[n.text.charAt(r)],h=/[(){}[\]]/,u=t.line,f=o?Math.min(u+100,on.size):Math.max(-1,u-100);u!=f;u+=l){var n=m(u),d=u==t.line,p=function(e,t,n){if(e.text)for(var r,i=e.styles,a=o?0:e.text.length-1,s=o?0:i.length-2,u=o?i.length:-2;s!=u;s+=2*l){var f=i[s];if(i[s+1]==g){for(var d=o?0:f.length-1,p=o?f.length:-1;d!=p;d+=l,a+=l)if(a>=t&&a<n&&h.test(r=f.charAt(d))){var m=$n[r];if(">"==m.charAt(1)==o)c.push(r);else{if(c.pop()!=m.charAt(0))return{pos:a,match:!1};if(!c.length)return{pos:a,match:!0}}}}else a+=l*f.length}}(n,d&&o?r+1:0,d&&!o?r:n.text.length);if(p)break}p||(p={pos:null,match:!1});var g=p.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",v=ct({line:t.line,ch:r},{line:t.line,ch:r+1},g),y=null!=p.pos&&ct({line:u,ch:p.pos},{line:u,ch:p.pos+1},g),x=Dt(function(){v.clear(),y&&y.clear()});e?setTimeout(x,800):yn=x}}function Tt(e){for(var t,n,r=e,i=e-40;r>i;--r){if(0==r)return 0;var o=m(r-1);if(o.stateAfter)return r;var l=o.indentation(Ht.tabSize);(null==n||t>l)&&(n=r-1,t=l)}return n}function At(e){var t=Tt(e),n=t&&m(t-1).stateAfter;return n=n?i(en,n):o(en),on.iter(t,e,function(r){r.process(en,n,Ht.tabSize),r.stateAfter=t==e-1||t%5==0?i(en,n):null}),n}function Lt(){if(!(ln>=Tn)){var e=+new Date+Ht.workTime,t=i(en,At(ln)),n=ln;on.iter(ln,Tn,function(n){if(ln>=Mn?(n.highlight(en,t,Ht.tabSize),n.stateAfter=i(en,t)):(n.process(en,t,Ht.tabSize),n.stateAfter=ln%5==0?i(en,t):null),++ln,+new Date>e)return Nt(Ht.workDelay),!0}),Tn>n&&ln>=Mn&&Dt(function(){dn.push({from:n,to:ln})})()}}function Nt(e){ln<Tn&&rn.set(e,Lt)}function Et(){cn=hn=pn=null,dn=[],gn=!1,vn=[]}function Wt(){if(Nn&&Ae(),En&&!Ht.lineWrapping){var e=Gt.offsetWidth,t=pt(Ln,Ln.text.length).left;se||(Gt.style.left=t+"px",$t.style.minWidth=t+e+"px"),En=!1}var n,r;if(gn){var i=Be();n=Fe(i.x,i.y,i.x,i.yBot)}(dn.length||n&&null!=n.scrollTop)&&(r=Ve(dn,!0,n&&n.scrollTop)),r||(gn&&Xe(),mn&&$e()),n&&Pe(),gn&&wt(),tn&&(!0===cn||!1!==cn&&gn)&&Re(hn),gn&&Ht.matchBrackets&&setTimeout(Dt(function(){yn&&(yn(),yn=null),F(xn.from,xn.to)&&Mt(!1)}),20);var o=gn,l=vn;pn&&Ht.onChange&&In&&Ht.onChange(In,pn),o&&Ht.onCursorActivity&&Ht.onCursorActivity(In);for(var a=0;a<l.length;++a)l[a](In);r&&Ht.onUpdate&&Ht.onUpdate(In)}function Dt(e){return function(){Xn++||Et();try{var t=e.apply(this,arguments)}finally{--Xn||Wt()}return t}}function zt(e){zn.startCompound();try{return e()}finally{zn.endCompound()}}var Ht={},Ot=e.defaults;for(var Rt in Ot)Ot.hasOwnProperty(Rt)&&(Ht[Rt]=(u&&u.hasOwnProperty(Rt)?u:Ot)[Rt]);var It=G("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em");It.setAttribute("wrap","off"),It.setAttribute("autocorrect","off"),It.setAttribute("autocapitalize","off");var Pt=G("div",[It],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),Bt=G("div",null,"CodeMirror-scrollbar-inner"),Kt=G("div",[Bt],"CodeMirror-scrollbar"),Ft=G("div"),Ut=G("div",null,null,"position: relative; z-index: -1"),Vt=G("pre"," ","CodeMirror-cursor"),Gt=G("pre"," ","CodeMirror-cursor","visibility: hidden"),Yt=G("div",null,null,"position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;"),$t=G("div",[Yt,Vt,Gt,Ut,Ft],null,"position: relative; z-index: 0"),Xt=G("div",null,"CodeMirror-gutter-text"),jt=G("div",[Xt],"CodeMirror-gutter"),Zt=G("div",[jt,G("div",[$t],"CodeMirror-lines")],null,"position: relative"),_t=G("div",[Zt],null,"position: relative"),Jt=G("div",[_t],"CodeMirror-scroll");Jt.setAttribute("tabIndex","-1");var qt=G("div",[Pt,Kt,Jt],"CodeMirror"+(Ht.lineWrapping?" CodeMirror-wrap":""));l.appendChild?l.appendChild(qt):l(qt),st(),ut(),J&&(It.style.width="0px"),ce||(Jt.draggable=!0),$t.style.outline="none",null!=Ht.tabindex&&(It.tabIndex=Ht.tabindex),Ht.autofocus&&Ie(),Ht.gutter||Ht.lineNumbers||(jt.style.display="none"),ge&&(Pt.style.height="1px",Pt.style.position="absolute"),me?(Kt.style.zIndex=-2,Kt.style.visibility="hidden"):se&&(Kt.style.minWidth="18px");var Qt,en,tn,nn=new H,rn=new H,on=new x([new y([new v("")])]),ln=0;ot();var an,sn,un,fn,cn,hn,dn,pn,gn,mn,vn,yn,xn={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Cn=0,bn=!1,Sn=!1,kn=!1,wn=0,Mn=0,Tn=0,An=0,Ln=m(0),Nn=!1,En=!0,Wn=!1,Dn=null;Dt(function(){O(Ht.value||""),cn=!1})();var zn=new w;z(Jt,"mousedown",Dt(function(e){function t(t){ce&&(Jt.draggable=!1),fn=!1,h(),d(),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10&&(A(t),qe(l.line,l.ch,!0),Ie())}function n(e){if("single"==s)Ze(l,e);else if("double"==s){var t=nt(e);U(e,p)?Ze(t.from,g):Ze(p,t.to)}else"triple"==s&&(U(e,p)?Ze(g,et({line:e.line,ch:0})):Ze(p,et({line:e.line+1,ch:0})))}function r(e){var t=St(e,!0);if(t&&!F(t,c)){tn||he(),c=t,n(t),cn=!1;var i=Ue();(t.line>=i.to||t.line<i.from)&&(f=setTimeout(Dt(function(){r(e)}),150))}}function i(e){clearTimeout(f);var t=St(e);t&&n(t),A(e),Ie(),cn=!0,m(),h()}for(je(D(e,"shiftKey")),o=E(e);o!=qt;o=o.parentNode)if(o.parentNode==_t&&o!=Zt)return;for(var o=E(e);o!=qt;o=o.parentNode)if(o.parentNode==Xt)return Ht.onGutterClick&&Ht.onGutterClick(In,Z(Xt.childNodes,o)+Mn,e),A(e);var l=St(e);switch(W(e)){case 3:return void(le&&kt(e));case 2:return l&&qe(l.line,l.ch,!0),setTimeout(Ie,20),void A(e)}if(l){tn||he();var a=+new Date,s="single";if(un&&un.time>a-400&&F(un.pos,l))s="triple",A(e),setTimeout(Ie,20),rt(l.line);else if(sn&&sn.time>a-400&&F(sn.pos,l)){s="double",un={time:a,pos:l},A(e);var u=nt(l);Ze(u.from,u.to)}else sn={time:a,pos:l};var f,c=l;if(Ht.dragDrop&&xe&&!Ht.readOnly&&!F(xn.from,xn.to)&&!U(l,xn.from)&&!U(xn.to,l)&&"single"==s){ce&&(Jt.draggable=!0);var h=z(document,"mouseup",Dt(t),!0),d=z(Jt,"drop",Dt(t),!0);return fn=!0,void(Jt.dragDrop&&Jt.dragDrop())}A(e),"single"==s&&qe(l.line,l.ch,!0);var p=xn.from,g=xn.to,m=z(document,"mousemove",Dt(function(e){clearTimeout(f),A(e),ae||W(e)?r(e):i(e)}),!0),h=z(document,"mouseup",Dt(i),!0)}else E(e)==Jt&&A(e)})),z(Jt,"dblclick",Dt(function(e){for(var t=E(e);t!=qt;t=t.parentNode)if(t.parentNode==Xt)return A(e);A(e)})),z($t,"selectstart",A),le||z(Jt,"contextmenu",kt),z(Jt,"scroll",function(e){Ht.fixedGutter&&jt.style.left!=Jt.scrollLeft+"px"&&(jt.style.left=Jt.scrollLeft+"px"),Jt.scrollTop!=Cn&&(Cn=Jt.scrollTop,Kt.scrollTop!=Cn&&(Kt.scrollTop=Cn),Ve([])),Ht.onScroll&&Ht.onScroll(In)}),z(Kt,"scroll",function(e){Kt.scrollTop!=Cn&&(Cn=Jt.scrollTop=Kt.scrollTop,Ve([]))}),z(Kt,"mousedown",function(){tn&&setTimeout(Ie,0)});var Hn=z(window,"resize",function(){qt.parentNode?Ve(!0):Hn()},!0);z(It,"keyup",Dt(function(e){Ht.onKeyEvent&&Ht.onKeyEvent(In,T(e))||16==D(e,"keyCode")&&(an=null)})),z(It,"input",He),z(It,"keydown",Dt(re)),z(It,"keypress",Dt(function(e){if(Wn&&Oe(),!Ht.onKeyEvent||!Ht.onKeyEvent(In,T(e))){var t=D(e,"keyCode"),n=D(e,"charCode");if(de&&t==Pn)return Pn=null,void A(e);if(!(de&&(!e.which||e.which<10)||ge)||!Q(e)){var r=String.fromCharCode(null==n?t:n);Ht.electricChars&&en.electricChars&&Ht.smartIndent&&!Ht.readOnly&&en.electricChars.indexOf(r)>-1&&setTimeout(Dt(function(){it(xn.to.line,"smart")}),75),ee(e,r)||He()}}})),z(It,"focus",he),z(It,"blur",pe),Ht.dragDrop&&(z(Jt,"dragstart",function(e){var t=De();e.dataTransfer.setData("Text",t),e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(G("img"),0,0)}),z(Jt,"dragenter",f),z(Jt,"dragover",f),z(Jt,"drop",Dt(function(e){if(!Ht.onDragEvent||!Ht.onDragEvent(In,T(e))){A(e);var t=St(e,!0),n=e.dataTransfer.files;if(t&&!Ht.readOnly)if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,i=Array(r),o=0,l=0;l<r;++l)!function(e,n){var l=new FileReader;l.onload=function(){i[n]=l.result,++o==r&&(t=et(t),Dt(function(){var e=Le(i.join(""),t,t);Ze(t,e)})())},l.readAsText(e)}(n[l],l);else{if(fn&&!U(t,xn.from)&&!U(xn.to,t))return;try{(i=e.dataTransfer.getData("Text"))&&zt(function(){var e=xn.from,n=xn.to;Ze(t,t),fn&&Le("",e,n),Ne(i),Ie()})}catch(e){}}}}))),z(Jt,"paste",function(){Ie(),He()}),z(It,"paste",function(){kn=!0,He()}),z(It,"cut",Dt(function(){Ht.readOnly||Ne("")})),ge&&z(_t,"mouseup",function(){document.activeElement==It&&It.blur(),Ie()});var On;try{On=document.activeElement==It}catch(e){}On||Ht.autofocus?setTimeout(he,20):pe();var Rn,In=qt.CodeMirror={getValue:function(e){var t=[];return on.iter(0,on.size,function(e){t.push(e.text)}),t.join(e||"\n")},setValue:Dt(O),getSelection:De,replaceSelection:Dt(Ne),focus:function(){window.focus(),Ie(),he(),He()},setOption:function(e,t){var n=Ht[e];Ht[e]=t,"mode"==e||"indentUnit"==e?ot():"readOnly"==e&&"nocursor"==t?(pe(),It.blur()):"readOnly"!=e||t?"theme"==e?st():"lineWrapping"==e&&n!=t?Dt(at)():"tabSize"==e?Ve(!0):"keyMap"==e?ut():"tabindex"==e&&(It.tabIndex=t):Re(!0),"lineNumbers"!=e&&"gutter"!=e&&"firstLineNumber"!=e&&"theme"!=e&&"lineNumberFormatter"!=e||(lt(),Ve(!0))},getOption:function(e){return Ht[e]},getMode:function(){return en},undo:Dt(function(){Ce(zn.done,zn.undone)}),redo:Dt(function(){Ce(zn.undone,zn.done)}),indentLine:Dt(function(e,t){"string"!=typeof t&&(t=null==t?Ht.smartIndent?"smart":"prev":t?"add":"subtract"),g(e)&&it(e,t)}),indentSelection:Dt(function(e){if(F(xn.from,xn.to))return it(xn.from.line,e);for(var t=xn.to.line-(xn.to.ch?0:1),n=xn.from.line;n<=t;++n)it(n,e)}),historySize:function(){return{undo:zn.done.length,redo:zn.undone.length}},clearHistory:function(){zn=new w},setHistory:function(e){(zn=new w).done=e.done,zn.undone=e.undone},getHistory:function(){function e(e){for(var t,n=0,r=[];n<e.length;++n){r.push(t=[]);for(var i=0,o=e[n];i<o.length;++i){var l=[],a=o[i];t.push({start:a.start,added:a.added,old:l});for(var s=0;s<a.old.length;++s)l.push(h(a.old[s]))}}return r}return{done:e(zn.done),undone:e(zn.undone)}},matchBrackets:Dt(function(){Mt(!0)}),getTokenAt:Dt(function(e){return e=et(e),m(e.line).getTokenAt(en,At(e.line),Ht.tabSize,e.ch)}),getStateAfter:function(e){return e=Qe(null==e?on.size-1:e),At(e+1)},cursorCoords:function(e,t){return null==e&&(e=xn.inverted),this.charCoords(e?xn.from:xn.to,t)},charCoords:function(e,t){return e=et(e),"local"==t?gt(e,!1):"div"==t?gt(e,!0):vt(e)},coordsChar:function(e){var t=R($t);return mt(e.x-t.left,e.y-t.top)},markText:Dt(ct),setBookmark:function(e){e=et(e);var t=new ft("bookmark"),n=m(e.line);zn.addChange(e.line,1,[p(n.text,n.markedSpans)],!0);var r={from:e.ch,to:e.ch,marker:t};return n.markedSpans=(n.markedSpans||[]).concat([r]),t.lines.push(n),t},findMarksAt:function(e){var t=[],n=m((e=et(e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker)}return t},setMarker:Dt(function(e,t,n){return"number"==typeof e&&(e=m(Qe(e))),e.gutterMarker={text:t,style:n},mn=!0,e}),clearMarker:Dt(function(e){"number"==typeof e&&(e=m(Qe(e))),e.gutterMarker=null,mn=!0}),setLineClass:Dt(function(e,t,n){return ht(e,function(e){if(e.className!=t||e.bgClassName!=n)return e.className=t,e.bgClassName=n,!0})}),hideLine:Dt(function(e){return dt(e,!0)}),showLine:Dt(function(e){return dt(e,!1)}),onDeleteLine:function(e,t){if("number"==typeof e){if(!g(e))return null;e=m(e)}return(e.handlers||(e.handlers=[])).push(t),e},lineInfo:function(e){if("number"==typeof e){if(!g(e))return null;var t=e;if(!(e=m(e)))return null}else if(null==(t=b(e)))return null;var n=e.gutterMarker;return{line:t,handle:e,text:e.text,markerText:n&&n.text,markerClass:n&&n.style,lineClass:e.className,bgClass:e.bgClassName}},getViewport:function(){return{from:Mn,to:Tn}},addWidget:function(e,t,n,r,i){var o=(e=gt(et(e))).yBot,l=e.x;if(t.style.position="absolute",_t.appendChild(t),"over"==r)o=e.y;else if("near"==r){var a=Math.max(Jt.offsetHeight,on.height*yt()),s=Math.max(_t.clientWidth,$t.clientWidth)-bt();e.yBot+t.offsetHeight>a&&e.y>t.offsetHeight&&(o=e.y-t.offsetHeight),l+t.offsetWidth>s&&(l=s-t.offsetWidth)}t.style.top=o+Ct()+"px",t.style.left=t.style.right="","right"==i?(l=_t.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?l=0:"middle"==i&&(l=(_t.clientWidth-t.offsetWidth)/2),t.style.left=l+bt()+"px"),n&&Ke(l,o,l+t.offsetWidth,o+t.offsetHeight)},lineCount:function(){return on.size},clipPos:et,getCursor:function(e){return null==e&&(e=xn.inverted),V(e?xn.from:xn.to)},somethingSelected:function(){return!F(xn.from,xn.to)},setCursor:Dt(function(e,t,n){null==t&&"number"==typeof e.line?qe(e.line,e.ch,n):qe(e,t,n)}),setSelection:Dt(function(e,t,n){(n?Ze:_e)(et(e),et(t||e))}),getLine:function(e){if(g(e))return m(e).text},getLineHandle:function(e){if(g(e))return m(e)},setLine:Dt(function(e,t){g(e)&&Le(t,{line:e,ch:0},{line:e,ch:m(e).text.length})}),removeLine:Dt(function(e){g(e)&&Le("",{line:e,ch:0},et({line:e+1,ch:0}))}),replaceRange:Dt(Le),getRange:function(e,t,n){return We(et(e),et(t),n)},triggerOnKeyDown:Dt(re),execCommand:function(e){return ie[e](In)},moveH:Dt(function(e,t){var n=e<0?xn.from:xn.to;(an||F(xn.from,xn.to))&&(n=tt(e,t)),qe(n.line,n.ch,!0)}),deleteH:Dt(function(e,t){F(xn.from,xn.to)?e<0?Le("",tt(e,t),xn.to):Le("",xn.from,tt(e,t)):Le("",xn.from,xn.to),hn=!0}),moveV:Dt(function(e,t){var n=gt(xn.inverted?xn.from:xn.to,!0);if(null!=Dn&&(n.x=Dn),"page"==t)var r=Math.min(Jt.clientHeight,window.innerHeight||document.documentElement.clientHeight),i=mt(n.x,n.y+r*e);else if("line"==t)var o=yt(),i=mt(n.x,n.y+.5*o+e*o);"page"==t&&(Kt.scrollTop+=gt(i,!0).y-n.y),qe(i.line,i.ch,!0),Dn=n.x}),toggleOverwrite:function(){bn?(bn=!1,Vt.className=Vt.className.replace(" CodeMirror-overwrite","")):(bn=!0,Vt.className+=" CodeMirror-overwrite")},posFromIndex:function(e){var t,n=0;return on.iter(0,on.size,function(r){var i=r.text.length+1;if(i>e)return t=e,!0;e-=i,++n}),et({line:n,ch:t})},indexFromPos:function(e){if(e.line<0||e.ch<0)return 0;var t=e.ch;return on.iter(0,e.line,function(e){t+=e.text.length+1}),t},scrollTo:function(e,t){null!=e&&(Jt.scrollLeft=e),null!=t&&(Kt.scrollTop=Jt.scrollTop=t),Ve([])},getScrollInfo:function(){return{x:Jt.scrollLeft,y:Kt.scrollTop,height:Kt.scrollHeight,width:Jt.scrollWidth}},setSize:function(e,t){function n(e){return e=String(e),/^\d+$/.test(e)?e+"px":e}null!=e&&(qt.style.width=n(e)),null!=t&&(Jt.style.height=n(t)),In.refresh()},operation:function(e){return Dt(e)()},compoundChange:function(e){return zt(e)},refresh:function(){Ve(!0,null,Cn),Kt.scrollHeight>Cn&&(Kt.scrollTop=Cn)},getInputField:function(){return It},getWrapperElement:function(){return qt},getScrollerElement:function(){return Jt},getGutterElement:function(){return jt}},Pn=null,Bn="";ft.prototype.clear=Dt(function(){for(var e,t,n=0;n<this.lines.length;++n){var r=this.lines[n],i=a(r.markedSpans,this);null!=i.from&&(e=b(r)),null!=i.to&&(t=b(r)),r.markedSpans=s(r.markedSpans,i)}null!=e&&dn.push({from:e,to:t+1}),this.lines.length=0,this.explicitlyCleared=!0}),ft.prototype.find=function(){for(var e,t,n=0;n<this.lines.length;++n){var r=this.lines[n],i=a(r.markedSpans,this);if(null!=i.from||null!=i.to){var o=b(r);null!=i.from&&(e={line:o,ch:i.from}),null!=i.to&&(t={line:o,ch:i.to})}}return"bookmark"==this.type?e:e&&{from:e,to:t}};var Kn,Fn,Un,Vn,Gn,Yn=0,$n={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},Xn=0;for(var jn in te)te.propertyIsEnumerable(jn)&&!In.propertyIsEnumerable(jn)&&(In[jn]=te[jn]);for(var Zn=0;Zn<ne.length;++Zn)ne[Zn](In);return In}function t(e){return"string"==typeof e?oe[e]:e}function n(e,n,r,i,o){function l(n){var r=(n=t(n))[e];if(!1===r)return o&&o(),!0;if(null!=r&&i(r))return!0;if(n.nofallthrough)return o&&o(),!0;var a=n.fallthrough;if(null==a)return!1;if("[object Array]"!=Object.prototype.toString.call(a))return l(a);for(var s=0,u=a.length;s<u;++s)if(l(a[s]))return!0;return!1}return!(!n||!l(n))||l(r)}function r(e){var t=we[D(e,"keyCode")];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function i(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function o(e,t,n){return!e.startState||e.startState(t,n)}function l(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8}function a(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function s(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function u(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],l=o.marker;if(null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t)||"bookmark"==l.type&&o.from==t&&o.from!=n){var a=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push({from:o.from,to:a?null:o.to,marker:l})}}return r}function f(e,t){if(e)for(var n,r=0;r<e.length;++r){var i=e[r],o=i.marker;if(null==i.to||(o.inclusiveRight?i.to>=t:i.to>t)||"bookmark"==o.type&&i.from==t){var l=null==i.from||(o.inclusiveLeft?i.from<=t:i.from<t);(n||(n=[])).push({from:l?null:i.from-t,to:null==i.to?null:i.to-t,marker:o})}}return n}function c(e,t,n,r,i){if(!e&&!t)return i;var o=u(e,n),l=f(t,r),s=1==i.length,c=B(i).length+(s?n:0);if(o)for(y=0;y<o.length;++y)null==(h=o[y]).to&&((d=a(l,h.marker))?s&&(h.to=null==d.to?null:d.to+c):h.to=n);if(l)for(y=0;y<l.length;++y){var h=l[y];if(null!=h.to&&(h.to+=c),null==h.from){var d=a(o,h.marker);d||(h.from=c,s&&(o||(o=[])).push(h))}else h.from+=c,s&&(o||(o=[])).push(h)}var g=[p(i[0],o)];if(!s){var m,v=i.length-2;if(v>0&&o)for(y=0;y<o.length;++y)null==o[y].to&&(m||(m=[])).push({from:null,to:null,marker:o[y].marker});for(var y=0;y<v;++y)g.push(p(i[y+1],m));g.push(p(B(i),l))}return g}function h(e){return"string"==typeof e?e:e.text}function d(e){if("string"==typeof e)return null;for(var t=e.markedSpans,n=null,r=0;r<t.length;++r)t[r].marker.explicitlyCleared?n||(n=t.slice(0,r)):n&&n.push(t[r]);return n?n.length?n:null:t}function p(e,t){return t?{text:e,markedSpans:t}:e}function g(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n){var r=t[n].marker.lines,i=Z(r,e);r.splice(i,1)}e.markedSpans=null}}function m(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.lines.push(e);e.markedSpans=t}}function v(e,t){this.text=e,this.height=1,m(this,t)}function y(e){this.lines=e,this.parent=null;for(var t=0,n=e.length,r=0;t<n;++t)e[t].parent=this,r+=e[t].height;this.height=r}function x(e){this.children=e;for(var t=0,n=0,r=0,i=e.length;r<i;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}function C(e,t){for(;!e.lines;)for(var n=0;;++n){var r=e.children[n],i=r.chunkSize();if(t<i){e=r;break}t-=i}return e.lines[t]}function b(e){if(null==e.parent)return null;for(var t=e.parent,n=Z(t.lines,e),r=t.parent;r;t=r,r=r.parent){var i=0;for(r.children.length;r.children[i]!=t;++i)n+=r.children[i].chunkSize()}return n}function S(e,t){var n=0;e:do{for(var r=0,i=e.children.length;r<i;++r){var o=e.children[r],l=o.height;if(t<l){e=o;continue e}t-=l,n+=o.chunkSize()}return n}while(!e.lines);for(var r=0,i=e.lines.length;r<i;++r){var a=e.lines[r].height;if(t<a)break;t-=a}return n+r}function k(e,t){var n=0;e:do{for(var r=0,i=e.children.length;r<i;++r){var o=e.children[r],l=o.chunkSize();if(t<l){e=o;continue e}t-=l,n+=o.height}return n}while(!e.lines);for(r=0;r<t;++r)n+=e.lines[r].height;return n}function w(){this.time=0,this.done=[],this.undone=[],this.compound=0,this.closed=!1}function M(){N(this)}function T(e){return e.stop||(e.stop=M),e}function A(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function L(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function N(e){A(e),L(e)}function E(e){return e.target||e.srcElement}function W(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),q&&e.ctrlKey&&1==t&&(t=3),t}function D(e,t){return e.override&&e.override.hasOwnProperty(t)?e.override[t]:e[t]}function z(e,t,n,r){if("function"==typeof e.addEventListener){if(e.addEventListener(t,n,!1),r)return function(){e.removeEventListener(t,n,!1)}}else{var i=function(e){n(e||window.event)};if(e.attachEvent("on"+t,i),r)return function(){e.detachEvent("on"+t,i)}}}function H(){this.id=null}function O(e,t,n){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var r=0,i=0;r<t;++r)"\t"==e.charAt(r)?i+=n-i%n:++i;return i}function R(e,t){try{var n=e.getBoundingClientRect();n={top:n.top,left:n.left}}catch(e){n={top:0,left:0}}if(!t)if(null==window.pageYOffset){var r=document.documentElement||document.body.parentNode;null==r.scrollTop&&(r=document.body),n.top+=r.scrollTop,n.left+=r.scrollLeft}else n.top+=window.pageYOffset,n.left+=window.pageXOffset;return n}function I(e){return e.textContent||e.innerText||e.nodeValue||""}function P(e){for(;be.length<=e;)be.push(B(be)+" ");return be[e]}function B(e){return e[e.length-1]}function K(e){J?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()}function F(e,t){return e.line==t.line&&e.ch==t.ch}function U(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function V(e){return{line:e.line,ch:e.ch}}function G(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)X(i,t);else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function Y(e){return e.innerHTML="",e}function $(e,t){Y(e).appendChild(t)}function X(e,t){ue?(e.innerHTML="",e.appendChild(document.createTextNode(t))):e.textContent=t}function j(e,t){if(!t)return 0;if(!e)return t.length;for(var n=e.length,r=t.length;n>=0&&r>=0&&e.charAt(n)==t.charAt(r);--n,--r);return r+1}function Z(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function _(e){return/\w/.test(e)||e.toUpperCase()!=e.toLowerCase()||/[\u4E00-\u9FA5]/.test(e)}e.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,dragDrop:!0,onChange:null,onCursorActivity:null,onViewportChange:null,onGutterClick:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,cursorBlinkRate:530,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null,lineNumberFormatter:function(e){return e}};var J=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),q=J||/Mac/.test(navigator.platform),Q=(/Win/.test(navigator.platform),e.modes={}),ee=e.mimeModes={};e.defineMode=function(t,n){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){n.dependencies=[];for(var r=2;r<arguments.length;++r)n.dependencies.push(arguments[r])}Q[t]=n},e.defineMIME=function(e,t){ee[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ee.hasOwnProperty(t))t=ee[t];else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=Q[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(re.hasOwnProperty(n.name)){var o=re[n.name];for(var l in o)o.hasOwnProperty(l)&&(i[l]=o[l])}return i.name=n.name,i},e.listModes=function(){var e=[];for(var t in Q)Q.propertyIsEnumerable(t)&&e.push(t);return e},e.listMIMEs=function(){var e=[];for(var t in ee)ee.propertyIsEnumerable(t)&&e.push({mime:t,mode:ee[t]});return e};var te=e.extensions={};e.defineExtension=function(e,t){te[e]=t};var ne=[];e.defineInitHook=function(e){ne.push(e)};var re=e.modeExtensions={};e.extendMode=function(e,t){var n=re.hasOwnProperty(e)?re[e]:re[e]={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])};var ie=e.commands={selectAll:function(e){e.setSelection({line:0,ch:0},{line:e.lineCount()-1})},killLine:function(e){var t=e.getCursor(!0),n=e.getCursor(!1),r=!F(t,n);r||e.getLine(t.line).length!=t.ch?e.replaceRange("",t,r?n:{line:t.line}):e.replaceRange("",t,{line:t.line+1,ch:0})},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",{line:t,ch:0},{line:t})},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.setCursor(0,0,!0)},goDocEnd:function(e){e.setSelection({line:e.lineCount()-1},null,!0)},goLineStart:function(e){e.setCursor(e.getCursor().line,0,!0)},goLineStartSmart:function(e){var t=e.getCursor(),n=e.getLine(t.line),r=Math.max(0,n.search(/\S/));e.setCursor(t.line,t.ch<=r&&t.ch?0:r,!0)},goLineEnd:function(e){e.setSelection({line:e.getCursor().line},null,!0)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goWordRight:function(e){e.moveH(1,"word")},delCharLeft:function(e){e.deleteH(-1,"char")},delCharRight:function(e){e.deleteH(1,"char")},delWordLeft:function(e){e.deleteH(-1,"word")},delWordRight:function(e){e.deleteH(1,"word")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t","end")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("\t","end")},transposeChars:function(e){var t=e.getCursor(),n=e.getLine(t.line);t.ch>0&&t.ch<n.length-1&&e.replaceRange(n.charAt(t.ch)+n.charAt(t.ch-1),{line:t.line,ch:t.ch-1},{line:t.line,ch:t.ch+1})},newlineAndIndent:function(e){e.replaceSelection("\n","end"),e.indentLine(e.getCursor().line)},toggleOverwrite:function(e){e.toggleOverwrite()}},oe=e.keyMap={};oe.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},oe.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},oe.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},oe.default=q?oe.macDefault:oe.pcDefault,oe.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.isModifierKey=r,e.fromTextArea=function(t,n){function r(){t.value=a.getValue()}if(n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex),null==n.autofocus){var i=document.body;try{i=document.activeElement}catch(e){}n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form){var o=z(t.form,"submit",r,!0);if("function"==typeof t.form.submit){var l=t.form.submit;t.form.submit=function e(){r(),t.form.submit=l,t.form.submit(),t.form.submit=e}}}t.style.display="none";var a=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return a.save=r,a.getTextArea=function(){return t},a.toTextArea=function(){r(),t.parentNode.removeChild(a.getWrapperElement()),t.style.display="",t.form&&(o(),"function"==typeof t.form.submit&&(t.form.submit=l))},a};var le=/gecko\/\d{7}/i.test(navigator.userAgent),ae=/MSIE \d/.test(navigator.userAgent),se=/MSIE [1-7]\b/.test(navigator.userAgent),ue=/MSIE [1-8]\b/.test(navigator.userAgent),fe=ae&&5==document.documentMode,ce=/WebKit\//.test(navigator.userAgent),he=/Chrome\//.test(navigator.userAgent),de=/Opera\//.test(navigator.userAgent),pe=/Apple Computer/.test(navigator.vendor),ge=/KHTML\//.test(navigator.userAgent),me=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent);e.copyState=i,e.startState=o,e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);t=n.state,e=n.mode}return n||{mode:e,state:t}},l.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return O(this.string,this.start,this.tabSize)},indentation:function(){return O(this.string,null,this.tabSize)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string).indexOf(i(e),this.pos)==this.pos)return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=l;var ve=" ";le||ae&&!se?ve="​":de&&(ve=""),v.prototype={update:function(e,t){this.text=e,this.stateAfter=this.styles=null,g(this),m(this,t)},highlight:function(e,t,n){var r=new l(this.text,n),i=this.styles||(this.styles=[]),o=i.length=0;for(""==this.text&&e.blankLine&&e.blankLine(t);!r.eol();){var a=e.token(r,t),s=r.current();if(r.start=r.pos,o&&i[o-1]==a?i[o-2]+=s:s&&(i[o++]=s,i[o++]=a),r.pos>5e3){i[o++]=this.text.slice(r.pos),i[o++]=null;break}}},process:function(e,t,n){var r=new l(this.text,n);for(""==this.text&&e.blankLine&&e.blankLine(t);!r.eol()&&r.pos<=5e3;)e.token(r,t),r.start=r.pos},getTokenAt:function(e,t,n,r){for(var i=new l(this.text,n);i.pos<r&&!i.eol();){i.start=i.pos;var o=e.token(i,t)}return{start:i.start,end:i.pos,string:i.current(),className:o||null,state:t}},indentation:function(e){return O(this.text,null,e)},getContent:function(e,t,n){function r(t,n,r){if(n){if(o&&ae&&" "==n.charAt(0)&&(n=" "+n.slice(1)),o=!1,a.test(n))for(var i=document.createDocumentFragment(),s=0;;){a.lastIndex=s;var u=a.exec(n),f=u?u.index-s:n.length-s;if(f&&(i.appendChild(document.createTextNode(n.slice(s,s+f))),l+=f),!u)break;if(s+=f+1,"\t"==u[0]){var c=e-l%e;i.appendChild(G("span",P(c),"cm-tab")),l+=c}else{var h=G("span","•","cm-invalidchar");h.title="\\u"+u[0].charCodeAt(0).toString(16),i.appendChild(h),l+=1}}else l+=n.length,i=document.createTextNode(n);r?t.appendChild(G("span",[i],r)):t.appendChild(i)}}function i(e){return e?"cm-"+e.replace(/ +/g," cm-"):null}var o=!0,l=0,a=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g,s=G("pre"),u=r;if(null!=t){var f=0,c=s.anchor=G("span");u=function(e,i,o){var l=i.length;if(t>=f&&t<f+l){var a=t-f;if(a&&(r(e,i.slice(0,a),o),n)){var s=i.slice(a-1,a+1);Ce.test(s)?e.appendChild(G("wbr")):!se&&/\w\w/.test(s)&&e.appendChild(document.createTextNode("‍"))}e.appendChild(c),r(c,de?i.slice(a,a+1):i.slice(a),o),de&&r(e,i.slice(a+1),o),t--,f+=l}else f+=l,r(e,i,o),f==t&&f==g?(X(c,ve),e.appendChild(c)):f>t+10&&/\s/.test(i)&&(u=function(){})}}var h=this.styles,d=this.text,p=this.markedSpans,g=d.length;if(d||null!=t)if(p&&p.length){p.sort(function(e,t){return e.from-t.from});for(var m=0,v=0,y="",x=p[0].from||0,C=[],b=0;m<g;){x==m&&function(){for(var e;b<p.length&&((e=p[b]).from==m||null==e.from);)"range"==e.marker.type&&C.push(e),++b;x=b<p.length?p[b].from:1/0;for(var t=0;t<C.length;++t){var n=C[t].to;null==n&&(n=1/0),n==m?C.splice(t--,1):x=Math.min(n,x)}}();for(var S=Math.min(g,x);;){if(y){for(var k=m+y.length,w=N,M=0;M<C.length;++M){var T=C[M];w=(w?w+" ":"")+T.marker.style,T.marker.endStyle&&T.to===Math.min(k,S)&&(w+=" "+T.marker.endStyle),T.marker.startStyle&&T.from===m&&(w+=" "+T.marker.startStyle)}if(u(s,k>S?y.slice(0,S-m):y,w),k>=S){y=y.slice(S-m),m=S;break}m=k}y=h[v++],N=i(h[v++])}}}else for(var v=0,A=0;A<g;v+=2){var L=h[v],N=h[v+1],E=L.length;A+E>g&&(L=L.slice(0,g-A)),A+=E,u(s,L,i(N))}else u(s," ");return s},cleanUp:function(){this.parent=null,g(this)}},y.prototype={chunkSize:function(){return this.lines.length},remove:function(e,t,n){for(var r=e,i=e+t;r<i;++r){var o=this.lines[r];if(this.height-=o.height,o.cleanUp(),o.handlers)for(var l=0;l<o.handlers.length;++l)n.push(o.handlers[l])}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertHeight:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0,i=t.length;r<i;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},x.prototype={chunkSize:function(){return this.size},remove:function(e,t,n){this.size-=t;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e),a=i.height;if(i.remove(e,l,n),this.height-=a-i.height,o==l&&(this.children.splice(r--,1),i.parent=null),0==(t-=l))break;e=0}else e-=o}if(this.size-t<25){var s=[];this.collapse(s),this.children=[new y(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0,n=this.children.length;t<n;++t)this.children[t].collapse(e)},insert:function(e,t){for(var n=0,r=0,i=t.length;r<i;++r)n+=t[r].height;this.insertHeight(e,t,n)},insertHeight:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0,i=this.children.length;r<i;++r){var o=this.children[r],l=o.chunkSize();if(e<=l){if(o.insertHeight(e,t,n),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var a=new y(o.lines.splice(o.lines.length-25,25));o.height-=a.height,this.children.splice(r+1,0,a),a.parent=this}this.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new x(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=Z(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new x(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iter:function(e,t,n){this.iterN(e,t-e,n)},iterN:function(e,t,n){for(var r=0,i=this.children.length;r<i;++r){var o=this.children[r],l=o.chunkSize();if(e<l){var a=Math.min(t,l-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=l}}},w.prototype={addChange:function(e,t,n){this.undone.length=0;var r=+new Date,i=B(this.done),o=i&&B(i),l=r-this.time;if(i&&!this.closed&&this.compound)i.push({start:e,added:t,old:n});else if(l>400||!o||this.closed||o.start>e+n.length||o.start+o.added<e)this.done.push([{start:e,added:t,old:n}]),this.closed=!1;else{for(var a=Math.max(0,o.start-e),s=Math.max(0,e+n.length-(o.start+o.added)),u=a;u>0;--u)o.old.unshift(n[u-1]);for(u=s;u>0;--u)o.old.push(n[n.length-u]);a&&(o.start=e),o.added+=t-(n.length-a-s)}this.time=r},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||(this.closed=!0)}},e.e_stop=N,e.e_preventDefault=A,e.e_stopPropagation=L,e.connect=z,H.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}};var ye=e.Pass={toString:function(){return"CodeMirror.Pass"}},xe=function(){if(ue)return!1;var e=G("div");return"draggable"in e||"dragDrop"in e}(),Ce=(function(){var e=G("textarea");e.value="foo\nbar",e.value.indexOf("\r")}(),/^$/);le?Ce=/$'/:pe?Ce=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:he&&(Ce=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);var be=[""],Se=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");-1!=l?(n.push(o.slice(0,l)),t+=l+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)};e.splitLines=Se;var ke=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)};e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var we={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return e.keyNames=we,function(){for(e=0;e<10;e++)we[e+48]=String(e);for(e=65;e<=90;e++)we[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)we[e+111]=we[e+63235]="F"+e}(),e.version="2.35",e}();