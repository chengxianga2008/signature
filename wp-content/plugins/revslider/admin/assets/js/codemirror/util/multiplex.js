CodeMirror.multiplexingMode=function(e){function n(e,n,r){if("string"==typeof n)return e.indexOf(n,r);var t=n.exec(r?e.slice(r):e);return t?t.index+r:-1}var r=Array.prototype.slice.call(arguments,1),t=r.length;return{startState:function(){return{outer:CodeMirror.startState(e),innerActive:null,inner:null}},copyState:function(n){return{outer:CodeMirror.copyState(e,n.outer),innerActive:n.innerActive,inner:n.innerActive&&CodeMirror.copyState(n.innerActive.mode,n.inner)}},token:function(i,o){if(o.innerActive){var c=o.innerActive,u=n(l=i.string,c.close,i.pos);if(u==i.pos)return i.match(c.close),o.innerActive=o.inner=null,c.delimStyle;u>-1&&(i.string=l.slice(0,u));var a=c.mode.token(i,o.inner);u>-1&&(i.string=l);var s=i.current();return(u=s.indexOf(c.close))>-1&&i.backUp(s.length-u),a}for(var d=1/0,l=i.string,v=0;v<t;++v){var f=r[v];if((u=n(l,f.open,i.pos))==i.pos)return i.match(f.open),o.innerActive=f,o.inner=CodeMirror.startState(f.mode,e.indent?e.indent(o.outer,""):0),f.delimStyle;-1!=u&&u<d&&(d=u)}d!=1/0&&(i.string=l.slice(0,d));var p=e.token(i,o.outer);return d!=1/0&&(i.string=l),p},indent:function(n,r){var t=n.innerActive?n.innerActive.mode:e;return t.indent?t.indent(n.innerActive?n.inner:n.outer,r):CodeMirror.Pass},electricChars:e.electricChars,innerMode:function(n){return n.inner?{state:n.inner,mode:n.innerActive.mode}:{state:n.outer,mode:e}}}};