var RevSliderAdmin=new function(){function e(){var e=jQuery("#spinner_color").val(),t=jQuery("#use_spinner");0!=t.val()&&5!=t.val()||(e="#ffffff");var i=jQuery("#spinner_preview .tp-loader.tp-demo");i.hasClass("spinner0")||i.hasClass("spinner1")||i.hasClass("spinner2")?i.css({backgroundColor:e}):i.find("div").css({backgroundColor:e})}function t(t,i){var r=jQuery("#use_spinner");t.find(".tp-loader").remove(),t.append('<div class="tp-loader tp-demo"><div class="dot1"></div><div class="dot2"></div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'),t.find(".tp-demo").addClass("spinner"+r.val()),"-1"==r.val()||0==r.val()||5==r.val()?jQuery("#spinner_color_row").css({display:"none"}):jQuery("#spinner_color_row").css({display:"block"}),e()}var i=this,r=null,a=function(e){jQuery("#button_save_slider,#button_save_slider_t").click(function(){var t={params:RevSliderSettings.getSettingsObject("form_slider_params"),main:RevSliderSettings.getSettingsObject("form_slider_main"),template:jQuery("#revslider_template").val()};"update_slider"==e&&(t.sliderid=jQuery("#sliderid").val(),t.params.custom_css=rev_cm_custom_css.getValue(),t.params.custom_javascript=rev_cm_custom_js.getValue(),UniteAdminRev.setAjaxLoaderID("loader_update, #loader_update_t"),UniteAdminRev.setAjaxHideButtonID("button_save_slider,button_save_slider_t"),UniteAdminRev.setSuccessMessageID("update_slider_success,#update_slider_success_t")),UniteAdminRev.ajaxRequest(e,t)})};i.initLayerPreview=function(){jQuery("#button_preview_slider-tb").click(function(){var e=jQuery("#sliderid").val();y(e)})};var s=function(){var e=jQuery("#alias").val(),t='[rev_slider alias="'+e+'"]';""==e&&(t=rev_lang.wrong_alias),jQuery("#shortcode").val(t)},l=!1;i.load_slider_template_html=function(){return l?(jQuery("#template_area").addClass("show"),jQuery("#template_area").trigger("showitnow")):UniteAdminRev.ajaxRequest("load_template_store_sliders",{},function(e){e.success&&(jQuery(".revolution-template-groups").html(e.html),jQuery("#template_area").addClass("show"),jQuery("#template_area").trigger("showitnow"),initTemplateSliders(),l=!0)}),!0};var n=!1;i.load_slide_template_html=function(){return n?(jQuery("#template_area").addClass("show"),jQuery(".revolution-template-groups").perfectScrollbar(),scrollTA()):UniteAdminRev.ajaxRequest("load_template_store_slides",{},function(e){e.success&&(jQuery(".revolution-basic-templates").html(e.html),n=!0,templateSelectorHandling(),jQuery("#template_area").addClass("show"),jQuery(".revolution-template-groups").perfectScrollbar(),scrollTA())}),!0};var o=function(e,t,i,r){jQuery('input[name="width"]').attr("disabled",!1),jQuery('input[name="height"]').attr("disabled",!1),"normal"!=r&&"full"!=r||jQuery("#layout-preshow").removeClass("lp-fullscreenalign"),e?(jQuery("#responsitive_row").removeClass("disabled"),jQuery("#responsitive_row input").prop("disabled","")):(jQuery("#responsitive_row").addClass("disabled"),jQuery("#responsitive_row input").prop("disabled","disabled")),t?(jQuery("#auto_height_row").removeClass("disabled"),jQuery("#layout-preshow").removeClass("lp-fullscreenalign")):jQuery("#auto_height_row").addClass("disabled"),"normal"==r&&0==e&&0==t&&0==i?jQuery(".rs-hide-on-fixed").hide():jQuery(".rs-hide-on-fixed").show(),"full"==r?(jQuery(".rs-show-on-auto").toggle(100),jQuery(".rs-show-on-auto").show(100)):(jQuery(".rs-show-on-auto").toggle(100),jQuery(".rs-show-on-auto").hide(100)),i?(jQuery(".rs-show-on-fullscreen").show(),jQuery(".rs-hide-on-fullscreen").hide(),"on"==jQuery('input[name="full_screen_align_force"]:checked').val()&&jQuery("#layout-preshow").addClass("lp-fullscreenalign"),jQuery("#full_screen_align_force_row").removeClass("disabled"),jQuery("#fullscreen_offset_container_row").removeClass("disabled")):(jQuery(".rs-show-on-fullscreen").hide(),jQuery(".rs-hide-on-fullscreen").show(),jQuery("#full_screen_align_force_row").addClass("disabled"),jQuery("#fullscreen_offset_container_row").addClass("disabled")),i||t?jQuery("#force_full_width_row").removeClass("disabled"):jQuery("#force_full_width_row").addClass("disabled"),jQuery("#layout-preshow").removeClass("lp-fixed"),jQuery("#layout-preshow").removeClass("lp-custom"),jQuery("#layout-preshow").removeClass("lp-autoresponsive"),jQuery("#layout-preshow").removeClass("lp-fullscreen"),e?jQuery("#layout-preshow").addClass("lp-custom"):t?jQuery("#layout-preshow").addClass("lp-autoresponsive"):i?jQuery("#layout-preshow").addClass("lp-fullscreen"):jQuery("#layout-preshow").addClass("lp-fixed")},u=function(){jQuery("#slider_type_1").click(function(){o(!1,!1,!1,"normal")}),jQuery("#slider_type_2").click(function(){o(!0,!1,!1,"normal")}),jQuery("#slider_type_3").click(function(){o(!1,!0,!1,"full")}),jQuery("#slider_type_4").click(function(){o(!1,!1,!0,"screen")}),jQuery('input[name="full_screen_align_force"]').click(function(){"on"==jQuery(this).val()?jQuery("#layout-preshow").addClass("lp-fullscreenalign"):jQuery("#layout-preshow").removeClass("lp-fullscreenalign")}),jQuery('input[name="auto_height"]').click(function(){"on"==jQuery(this).val()?jQuery("#layout-preshow").addClass("lp-autoheight"):jQuery("#layout-preshow").removeClass("lp-autoheight")}),jQuery('input[name="force_full_width"]').click(function(){"on"==jQuery(this).val()?jQuery("#layout-preshow").addClass("lp-fullwidth"):jQuery("#layout-preshow").removeClass("lp-fullwidth")}),jQuery('input[name="full_screen_align_force"]:checked').click(),jQuery('input[name="auto_height"]:checked').click(),jQuery('input[name="force_full_width"]:checked').click()},d=function(e,t){jQuery("#"+e).change(function(){var e=jQuery(this).val(),i=[];jQuery("#"+t+" option").each(function(){1==jQuery(this).prop("selected")&&i.push(jQuery(this).val())}),jQuery("#"+t).empty(),jQuery(e).each(function(e,a){var s=r[a];for(var l in s){var n=s[l],o=new Option(n,l);0==l.indexOf("option_disabled")?jQuery(o).prop("disabled","disabled"):-1!==jQuery.inArray(jQuery(o).val(),i)&&jQuery(o).prop("selected","selected"),jQuery("#"+t).append(o)}})}),jQuery("#"+e).change()},c=function(){_(),u(),r=jQuery.parseJSON(g_jsonTaxWithCats),d("post_types","post_category"),d("product_types","product_category"),jQuery("#fetch_type").change(function(){switch(jQuery(".rs-post-type-wrap").hide(),jQuery(".rs-post-order-setting").show(),jQuery("#post_sortby_row").show(),jQuery(this).val()){case"cat_tag":jQuery(".rs-post-type-wrap").show();break;case"related":break;case"popular":case"recent":jQuery(".rs-post-order-setting").hide();break;case"next_prev":jQuery("#post_sortby_row").hide()}}),jQuery("#fetch_type option:selected").change(),jQuery("input[name='source_type']").click(function(){"posts"==jQuery(this).val()?(jQuery("#toolbox_wrapper").hide(),jQuery("#slider_type_row").hide(),jQuery("#slider_type_row").prev().hide(),jQuery("#fullscreen_offset_container_row").hide(),jQuery("#full_screen_align_force_row").hide(),jQuery("#slider_size_row").hide(),jQuery("#auto_height_row").hide(),jQuery("#force_full_width_row").hide(),jQuery("#responsitive_row").hide(),jQuery("#responsitive_row").next().hide()):(jQuery(".settings_panel_right").show(),jQuery("#toolbox_wrapper").show(),jQuery("#slider_type_row").show(),jQuery("#slider_type_row").prev().show(),jQuery("#fullscreen_offset_container_row").show(),jQuery("#full_screen_align_force_row").show(),jQuery("#slider_size_row").show(),jQuery("#auto_height_row").show(),jQuery("#force_full_width_row").show(),jQuery("#responsitive_row").show(),jQuery("#responsitive_row").next().show(),jQuery("#layout-preshow").show()),"specific_posts"==jQuery(this).val()?(jQuery('#fetch_type option[value="cat_tag"]').attr("selected","selected"),jQuery("#fetch_type option:selected").change()):jQuery("#fetch_type option:selected").change(),jQuery(".rs-settings-wrapper").hide(),"posts"==jQuery(this).val()||"specific_posts"==jQuery(this).val()||"woocommerce"==jQuery(this).val()?(jQuery("#rs-post-settings-wrapper").show(),jQuery(".rs-specific-posts-wrap").hide(),jQuery(".rs-woocommerce-product-wrap").hide(),jQuery(".rs-post-types-wrapper").hide(),jQuery(".rs-show-for-wc").hide(),jQuery(".rs-hide-for-wc").show(),"posts"==jQuery(this).val()?(jQuery(".rs-post-types-wrapper").show(),jQuery(".rs-specific-posts-wrap").hide()):"specific_posts"==jQuery(this).val()?(jQuery(".rs-post-types-wrapper").hide(),jQuery(".rs-specific-posts-wrap").show()):"woocommerce"==jQuery(this).val()&&(jQuery(".rs-woocommerce-product-wrap").show(),jQuery(".rs-show-for-wc").show(),jQuery(".rs-hide-for-wc").hide())):(jQuery("#rs-post-settings-wrapper").hide(),jQuery("#rs-"+jQuery(this).val()+"-settings-wrapper").show(),"facebook"==jQuery(this).val()&&jQuery('select[name="facebook-type-source"]').change(),"instagram"==jQuery(this).val()&&jQuery('select[name="instagram-type"]').change(),"photosets"==jQuery("select[name=flickr-type]").val()&&"flickr"==jQuery("input[name=source_type]:checked").val()&&jQuery("input[name=flickr-user-url]").change(),"youtube"==jQuery("input[name=source_type]:checked").val()&&"playlist"==jQuery("select[name='youtube-type-source']").val()&&jQuery("input[name=youtube-channel-id]").change())}),jQuery(".rs-settings-wrapper").hide(),jQuery("#source_type_1").is(":checked")||jQuery("#source_type_2").is(":checked")?(jQuery("#rs-post-settings-wrapper").show(),jQuery("#source_type_1").is(":checked")?(jQuery(".rs-post-types-wrapper").show(),jQuery(".rs-specific-posts-wrap").hide()):(jQuery(".rs-post-types-wrapper").hide(),jQuery(".rs-specific-posts-wrap").show())):(jQuery("#rs-post-settings-wrapper").hide(),jQuery("input[name=source_type]:checked").click()),jQuery("#source_type_1").is(":checked")&&(jQuery("#toolbox_wrapper").hide(),jQuery("#slider_type_row").hide(),jQuery("#slider_type_row").prev().hide(),jQuery("#fullscreen_offset_container_row").hide(),jQuery("#full_screen_align_force_row").hide(),jQuery("#slider_size_row").hide(),jQuery("#auto_height_row").hide(),jQuery("#force_full_width_row").hide(),jQuery("#responsitive_row").hide(),jQuery("#responsitive_row").next().hide()),jQuery(document).ready(function(){jQuery('input[name="slider_type"]:checked').click(),jQuery('select[name="navigation_style"]').change(function(){switch(jQuery(this).val()){case"preview1":case"preview2":case"preview3":case"preview4":jQuery("#leftarrow_align_hor_row").hide(),jQuery("#leftarrow_align_vert_row").hide(),jQuery("#leftarrow_offset_hor_row").hide(),jQuery("#leftarrow_offset_vert_row").hide(),jQuery("#rightarrow_align_hor_row").hide(),jQuery("#rightarrow_align_vert_row").hide(),jQuery("#rightarrow_offset_hor_row").hide(),jQuery("#rightarrow_offset_vert_row").hide(),jQuery("#navigation_arrows_row").hide();break;default:jQuery("#navigaion_type").change(),jQuery("#navigation_arrows").change()}}),jQuery("#navigation_arrows").on("change",function(){switch(jQuery(this).val()){case"nexttobullets":case"solo":var e=jQuery('select[name="navigation_style"]').val();"preview1"!=e&&"preview2"!=e&&"preview3"!=e&&"preview4"!=e&&(jQuery("#leftarrow_align_hor_row").show(),jQuery("#leftarrow_align_vert_row").show(),jQuery("#leftarrow_offset_hor_row").show(),jQuery("#leftarrow_offset_vert_row").show(),jQuery("#rightarrow_align_hor_row").show(),jQuery("#rightarrow_align_vert_row").show(),jQuery("#rightarrow_offset_hor_row").show(),jQuery("#rightarrow_offset_vert_row").show());break;default:jQuery("#leftarrow_align_hor_row").hide(),jQuery("#leftarrow_align_vert_row").hide(),jQuery("#leftarrow_offset_hor_row").hide(),jQuery("#leftarrow_offset_vert_row").hide(),jQuery("#rightarrow_align_hor_row").hide(),jQuery("#rightarrow_align_vert_row").hide(),jQuery("#rightarrow_offset_hor_row").hide(),jQuery("#rightarrow_offset_vert_row").hide()}}),jQuery('select[name="navigation_style"] option:selected').change(),jQuery("#navigation_type").change(function(){switch(jQuery(this).val()){case"bullet":case"thumb":var e=jQuery('select[name="navigation_style"]').val();"preview1"!=e&&"preview2"!=e&&"preview3"!=e&&"preview4"!=e&&jQuery("#navigation_arrows_row").show();break;default:jQuery("#navigation_arrows_row").hide()}}),jQuery("#navigation_style").change()}),jQuery("body").on("change",'select[name="facebook-type-source"]',function(){var e=jQuery(this).val();"timeline"==e?(jQuery("#facebook-album-wrap").hide(),jQuery("#facebook-timeline-wrap").show()):(jQuery("#facebook-timeline-wrap").hide(),jQuery("#facebook-album-wrap").show(),jQuery("input[name=facebook-page-url]").change()),jQuery("input[name=facebook-type-source]").val(e)}),"facebook"==jQuery("input[name=source_type]:checked").val()&&jQuery('select[name="facebook-type-source"]').change(),jQuery("input[name=facebook-page-url]").change(function(){if("album"==jQuery("select[name='facebook-type-source']").val()){var e={url:jQuery("input[name=facebook-page-url]").val(),album:jQuery("input[name=facebook-album]").val(),app_id:jQuery("input[name=facebook-app-id]").val(),app_secret:jQuery("input[name=facebook-app-secret]").val()};""!=jQuery("input[name=facebook-page-url]").val()?UniteAdminRev.ajaxRequest("get_facebook_photosets",e,function(e){jQuery("select[name=facebook-album-select]").html(e.html),jQuery("select[name=facebook-album-select]").change()}):(jQuery("select[name=facebook-album-select]").html(""),jQuery("select[name=facebook-album-select]").change())}}),"facebook"==jQuery("input[name=source_type]:checked").val()&&jQuery("input[name=facebook-page-url]").change(),jQuery("select[name=facebook-album-select]").change(function(){jQuery("input[name=facebook-album]").val(jQuery("select[name=facebook-album-select]").val())}),jQuery("select[name=flickr-type]").change(function(){switch(jQuery(this).val()){case"publicphotos":jQuery("#flickr-photosets-wrap,#flickr-gallery-url-wrap,#flickr-group-url-wrap").hide(),jQuery("#flickr-publicphotos-url-wrap").show();break;case"gallery":jQuery("#flickr-publicphotos-url-wrap,#flickr-photosets-wrap,#flickr-group-url-wrap").hide(),jQuery("#flickr-gallery-url-wrap").show();break;case"photosets":jQuery("#flickr-gallery-url-wrap,#flickr-group-url-wrap").hide(),jQuery("#flickr-publicphotos-url-wrap,#flickr-photosets-wrap").show();break;case"group":jQuery("#flickr-publicphotos-url-wrap,#flickr-photosets-wrap,#flickr-gallery-url-wrap").hide(),jQuery("#flickr-group-url-wrap").show()}}),jQuery("select[name=flickr-type]").change(),jQuery("input[name=flickr-user-url],select[name=flickr-type]").change(function(){if("photosets"==jQuery("select[name=flickr-type]").val())if(""!=jQuery("input[name=flickr-user-url]").val()&&""!=jQuery("input[name=flickr-api-key]").val()){var e={url:jQuery("input[name=flickr-user-url]").val(),key:jQuery("input[name=flickr-api-key]").val(),count:jQuery("input[name=flickr-count]").val(),set:jQuery("input[name=flickr-photoset]").val()};UniteAdminRev.ajaxRequest("get_flickr_photosets",e,function(e){jQuery("select[name=flickr-photoset-select]").html(e.data.html),jQuery("select[name=flickr-photoset-select]").change()})}else jQuery("select[name=flickr-photoset-select]").html(response.data.html),jQuery("input[name=flickr-photoset]").val("")}),"photosets"==jQuery("select[name=flickr-type]").val()&&"flickr"==jQuery("input[name=source_type]:checked").val()&&jQuery("input[name=flickr-user-url]").change(),jQuery("select[name=flickr-photoset-select]").change(function(){jQuery("input[name=flickr-photoset]").val(jQuery("select[name=flickr-photoset-select]").val())}),jQuery("select[name=youtube-playlist-select]").change(function(){jQuery("input[name=youtube-playlist]").val(jQuery("select[name=youtube-playlist-select]").val())}),jQuery("input[name=youtube-channel-id]").change(function(){if("playlist"==jQuery("select[name='youtube-type-source']").val()){var e={api:jQuery("input[name=youtube-api]").val(),id:jQuery("input[name=youtube-channel-id]").val(),playlist:jQuery("input[name=youtube-playlist]").val()};""!=jQuery("input[name=youtube-channel-id]").val()?UniteAdminRev.ajaxRequest("get_youtube_playlists",e,function(e){jQuery("select[name=youtube-playlist-select]").html(e.data.html),jQuery("select[name=youtube-playlist-select]").change()}):jQuery("select[name=youtube-playlist-select]").html("")}}),jQuery("select[name=youtube-type-source]").change(function(){"playlist"!=jQuery(this).val()?jQuery("#youtube-playlist-wrap").hide():(jQuery("#youtube-playlist-wrap").show(),"youtube"==jQuery("input[name=source_type]:checked").val()&&""!=jQuery("input[name=youtube-channel-id]").val()&&"playlist"==jQuery('select[name="youtube-type-source"]').val()&&jQuery("input[name=youtube-channel-id]").change())}),jQuery("select[name=youtube-type-source]").change(),jQuery("select[name=vimeo-type-source]").change(function(){var e=jQuery(this).val();jQuery(".source-vimeo").hide(),jQuery("#vimeo-"+e+"-wrap").show()}),jQuery("select[name=vimeo-type-source]").change(),jQuery("body").on("change",'select[name="instagram-type"]',function(){var e=jQuery(this).val();jQuery(this).parent().find("div").hide(),jQuery("#instagram_"+e).show()}),"instagram"==jQuery("input[name=source_type]:checked").val()&&jQuery('select[name="instagram-type"]').change(),jQuery("body").on("click",'input[name="loop_slide"]',function(){"noloop"==jQuery(this).val()&&(jQuery('#navigaion_type option[value="none"]').attr("selected",!0),jQuery('#navigation_arrows option[value="none"]').attr("selected",!0),jQuery("#navigaion_type").change(),jQuery("#navigation_arrows").change(),UniteAdminRev.showInfo({type:"info",hideon:"",event:"",content:rev_lang.nav_bullet_arrows_to_none,hidedelay:3}))}),jQuery("#enable_advanced_sizes").click(function(){jQuery(".rev-advanced-sizes-wrap").show(),jQuery("#rev-enable-advanced-sizes").hide(),jQuery('input[name="advanced-responsive-sizes"]').val("true"),jQuery(".rev-desktop-naming").html("Desktop")}),jQuery("#disable_advanced_sizes").click(function(){jQuery(".rev-advanced-sizes-wrap").hide(),jQuery("#rev-enable-advanced-sizes").show(),jQuery('input[name="advanced-responsive-sizes"]').val("false"),jQuery(".rev-desktop-naming").html("")})};this.initSpinnerAdmin=function(){jQuery("#use_spinner_row").parent().prepend('<div id="spinner_preview"></div>');var i=jQuery("#spinner_preview"),r=jQuery("#use_spinner"),a=jQuery("#spinner_color"),s=a.val();t(i),r.on("change",function(){t(i,!0)}),setInterval(function(){s!=a.val()&&(e(),oldocl=a.val())},300)},this.initAddSliderView=function(){c(),jQuery("#title").focus(),a("create_slider"),o(!1,!1,!1,"normal"),this.initSpinnerAdmin()},this.initEditSliderView=function(){c(),a("update_slider"),jQuery("#button_delete_slider, #button_delete_slider_t").click(function(){if(0==confirm(rev_lang.really_want_to_delete+" '"+jQuery("#title").val()+"' ?"))return!0;var e={sliderid:jQuery("#sliderid").val()};UniteAdminRev.ajaxRequest("delete_slider",e)}),jQuery("#api_wrapper .api-input").click(function(){jQuery(this).select().focus()}),jQuery("#link_show_api").click(function(){jQuery("#api_wrapper").show(),jQuery("#link_show_api").addClass("button-selected"),jQuery("#toolbox_wrapper").hide(),jQuery("#link_show_toolbox").removeClass("button-selected")}),jQuery("#link_show_toolbox").click(function(){jQuery("#toolbox_wrapper").show(),jQuery("#link_show_toolbox").addClass("button-selected"),jQuery("#api_wrapper").hide(),jQuery("#link_show_api").removeClass("button-selected")}),jQuery("#button_export_slider").click(function(){var e=jQuery("#sliderid").val(),t=jQuery('input[name="export_dummy_images"]').is(":checked"),i=ajaxurl+UniteAdminRev.return_ajaxurl_param()+"action="+g_uniteDirPlugin+"_ajax_action&client_action=export_slider&dummy="+t+"&nonce="+g_revNonce;i+="&sliderid="+e,location.href=i}),jQuery("#button_preview_slider, #button_preview_slider_t").click(function(){var e=jQuery("#sliderid").val();y(e)}),jQuery("#button_replace_url").click(function(){if(0==confirm(rev_lang.sure_to_replace_urls))return!1;var e={sliderid:jQuery("#sliderid").val(),url_from:jQuery("#replace_url_from").val(),url_to:jQuery("#replace_url_to").val()};UniteAdminRev.setAjaxLoaderID("loader_replace_url"),UniteAdminRev.setAjaxHideButtonID("button_replace_url"),UniteAdminRev.setSuccessMessageID("replace_url_success"),UniteAdminRev.ajaxRequest("replace_image_urls",e)}),jQuery('input[name="slider_type"]').each(function(){jQuery(this).is(":checked")&&jQuery(this).click()}),jQuery("#reset_slide_button").click(function(){if("0.5"==jQuery(this).css("opacity"))return!1;if(0==confirm(rev_lang.set_settings_on_all_slider))return!1;var e={sliderid:jQuery("#sliderid").val()};jQuery('input[name="reset-slide_transition"]').is(":checked")&&(e.slide_transition=jQuery('select[name="def-slide_transition"] option:selected').val()),jQuery('input[name="reset-transition_duration"]').is(":checked")&&(e.transition_duration=jQuery('input[name="def-transition_duration"]').val()),jQuery('input[name="reset-image_source_type"]').is(":checked")&&(e.image_source_type=jQuery('select[name="def-image_source_type"] option:selected').val()),jQuery('input[name="reset-background_fit"]').is(":checked")&&(e.bg_fit=jQuery("#def-background_fit option:selected").val(),"percentage"==e.bg_fit&&(e.bg_fit_x=jQuery('input[name="def-bg_fit_x"]').val(),e.bg_fit_y=jQuery('input[name="def-bg_fit_y"]').val())),jQuery('input[name="reset-bg_position"]').is(":checked")&&(e.bg_position=jQuery('select[name="def-bg_position"] option:selected').val(),"percentage"==e.bg_position&&(e.bg_position_x=jQuery('input[name="def-bg_position_x"]').val(),e.bg_position_y=jQuery('input[name="def-bg_position_y"]').val())),jQuery('input[name="reset-bg_repeat"]').is(":checked")&&(e.bg_repeat=jQuery('select[name="def-bg_repeat"] option:selected').val()),jQuery('input[name="reset-kenburn_effect"]').is(":checked")&&(e.kenburn_effect=jQuery('input[name="def-kenburn_effect"]').is(":checked")?"on":"off"),jQuery('input[name="reset-kb_start_fit"]').is(":checked")&&(e.kb_start_fit=jQuery('input[name="def-kb_start_fit"]').val()),jQuery('input[name="reset-kb_easing"]').is(":checked")&&(e.kb_easing=jQuery('select[name="def-kb_easing"] option:selected').val()),jQuery('input[name="reset-kb_end_fit"]').is(":checked")&&(e.kb_end_fit=jQuery('input[name="def-kb_end_fit"]').val()),jQuery('input[name="reset-kb_duration"]').is(":checked")&&(e.kb_duration=jQuery('input[name="def-kb_duration"]').val()),jQuery('input[name="reset-kb_start_offset_x"]').is(":checked")&&(e.kb_start_offset_x=jQuery('input[name="def-kb_start_offset_x"]').val()),jQuery('input[name="reset-kb_start_offset_y"]').is(":checked")&&(e.kb_start_offset_y=jQuery('input[name="def-kb_start_offset_y"]').val()),jQuery('input[name="reset-kb_end_offset_x"]').is(":checked")&&(e.kb_end_offset_x=jQuery('input[name="def-kb_end_offset_x"]').val()),jQuery('input[name="reset-kb_end_offset_y"]').is(":checked")&&(e.kb_end_offset_y=jQuery('input[name="def-kb_end_offset_y"]').val()),jQuery('input[name="reset-kb_start_rotate"]').is(":checked")&&(e.kb_start_rotate=jQuery('input[name="def-kb_start_rotate"]').val()),jQuery('input[name="reset-kb_end_rotate"]').is(":checked")&&(e.kb_end_rotate=jQuery('input[name="def-kb_end_rotate"]').val()),UniteAdminRev.ajaxRequest("reset_slide_settings",e)}),jQuery(".rs-reset-slide-setting").change(function(){jQuery("#reset_slide_button").css("opacity","0.5"),jQuery(".rs-reset-slide-setting").each(function(){if(jQuery(this).is(":checked"))return jQuery("#reset_slide_button").css("opacity","1"),!0})}),jQuery(".rs-reset-slide-setting").change(),jQuery(".tp-moderncheckbox").each(function(){RevSliderSettings.onoffStatus(jQuery(this))}),this.initSpinnerAdmin()};var _=function(){jQuery("#shortcode").focus(function(){this.select()}),jQuery("#shortcode").click(function(){this.select()}),jQuery("#alias").change(function(){s()}),jQuery("#alias").keyup(function(){s()}),s()},p=function(e){var t=jQuery("#list_slides").sortable("toArray"),i=[],r=0;jQuery(t).each(function(e,t){var a=t.replace("slidelist_item_","");i.push(a),r++,jQuery("#slidelist_item_"+a+" .order-text").text(r)});var a={arrIDs:i,sliderID:e};jQuery("#saving_indicator").show(),UniteAdminRev.ajaxRequest("update_slides_order",a,function(){jQuery("#saving_indicator").hide()}),jQuery("#select_sortby").val("menu_order")};this.initNewsletterRoutine=function(){jQuery("#subscribe-to-newsletter").click(function(){var e={email:jQuery('input[name="rs-email"]').val()};UniteAdminRev.ajaxRequest("subscribe_to_newsletter",e)}),jQuery("#activate-unsubscribe").click(function(){jQuery(".subscribe-newsletter-wrap").hide(),jQuery("#activate-unsubscribe").hide(),jQuery(".unsubscribe-newsletter-wrap").show(),jQuery("#unsubscribe-text").show(),jQuery("#subscribe-text").hide()}),jQuery("#cancel-unsubscribe").click(function(){jQuery(".subscribe-newsletter-wrap").show(),jQuery("#activate-unsubscribe").show(),jQuery(".unsubscribe-newsletter-wrap").hide(),jQuery("#unsubscribe-text").hide(),jQuery("#subscribe-text").show()}),jQuery("#unsubscribe-to-newsletter").click(function(){var e={email:jQuery('input[name="rs-email"]').val()};UniteAdminRev.ajaxRequest("unsubscribe_to_newsletter",e)})},this.initSlidersListView=function(){jQuery("body").on("click",".rs-reload-shop",function(){showWaitAMinute({fadeIn:300,text:rev_lang.please_wait_a_moment}),location.href=window.location.href+"&update_shop"}),jQuery("body").on("click",".template_slider_item_reimport, .install_template_slider",function(){return jQuery(this).hasClass("deny_download")?(alert(rev_lang.this_template_requires_version+" "+jQuery(this).data("versionneed")+" "+rev_lang.of_slider_revolution),!1):(jQuery(".rs-zip-name").text(jQuery(this).data("zipname")),jQuery(".rs-uid").val(jQuery(this).data("uid")),jQuery("#dialog_import_template_slider_from").dialog({modal:!0,resizable:!1,create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Local:function(){if(RS_DEMO)return alert(rev_lang.not_available_in_demo),!1;jQuery(".input_import_slider").val(""),jQuery(".rs-import-slider-button").hide(),jQuery("#dialog_import_template_slider").dialog({modal:!0,resizable:!1,width:600,height:400,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){jQuery(this).dialog("close")}}}),jQuery(this).dialog("close")},Online:function(){rs_plugin_validated?rs_single_page_creation?jQuery("#dialog_import_template_slider_page_template").dialog({modal:!0,resizable:!1,title:"Import",width:350,height:200,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Yes:function(){jQuery("#rs-import-template-from-server").find(".rs-page-creation").val("true"),showWaitAMinute({fadeIn:300,text:rev_lang.please_wait_a_moment}),jQuery("#rs-import-template-from-server").submit(),jQuery(this).dialog("close"),jQuery("#dialog_import_template_slider_from").dialog("close")},No:function(){jQuery("#rs-import-template-from-server").find(".rs-page-creation").val("false"),showWaitAMinute({fadeIn:300,text:rev_lang.please_wait_a_moment}),jQuery("#rs-import-template-from-server").submit(),jQuery(this).dialog("close"),jQuery("#dialog_import_template_slider_from").dialog("close")}}}):(jQuery("#rs-import-template-from-server").find(".rs-page-creation").val("false"),showWaitAMinute({fadeIn:300,text:rev_lang.please_wait_a_moment}),jQuery("#rs-import-template-from-server").submit(),jQuery("#dialog_import_template_slider_from").dialog("close")):jQuery("#regsiter-to-access-store-none").click()}}}),jQuery("#close-template").click(),!1)}),jQuery("body").on("click",".template_slider_item_reimport_package, .install_template_slider_package",function(){return jQuery(this).hasClass("deny_download")?(alert(rev_lang.this_template_requires_version+" "+jQuery(this).data("versionneed")+" "+rev_lang.of_slider_revolution),!1):(jQuery(".rs-zip-name").text(jQuery(this).data("zipname")),jQuery(".rs-uid").val(jQuery(this).data("uid")),jQuery(".rs-package").val("true"),rs_plugin_validated?rs_pack_page_creation?jQuery("#dialog_import_template_slider_page_template").dialog({modal:!0,resizable:!1,title:"Import",width:350,height:200,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Yes:function(){jQuery("#rs-import-template-from-server").find(".rs-page-creation").val("true"),showWaitAMinute({fadeIn:300,text:rev_lang.please_wait_a_moment}),jQuery("#rs-import-template-from-server").submit(),jQuery(".rs-package").val("false"),jQuery(this).dialog("close")},No:function(){jQuery("#rs-import-template-from-server").find(".rs-page-creation").val("false"),showWaitAMinute({fadeIn:300,text:rev_lang.please_wait_a_moment}),jQuery("#rs-import-template-from-server").submit(),jQuery(".rs-package").val("false"),jQuery(this).dialog("close")}}}):(jQuery("#rs-import-template-from-server").find(".rs-page-creation").val("false"),showWaitAMinute({fadeIn:300,text:rev_lang.please_wait_a_moment}),jQuery("#rs-import-template-from-server").submit(),jQuery(".rs-package").val("false")):(jQuery(".rs-package").val("false"),alert(rev_lang.this_feature_only_if_activated)),jQuery("#close-template").click(),!1)}),jQuery("body").on("click",".add_template_slider_item",function(){var e=jQuery(this).data("sliderid");jQuery("#dialog_duplicate_slider").dialog({modal:!0,resizable:!1,title:"Import",width:250,height:200,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){jQuery(this).dialog("close")},Import:function(){if(""==jQuery("#rs-duplicate-animation").val())return!1;UniteAdminRev.ajaxRequest("duplicate_slider",{sliderid:e,title:jQuery("#rs-duplicate-animation").val()},function(e){jQuery("#close-template").click()})}}})}),jQuery("body").on("click",".add_template_slider_item_package",function(){var e=jQuery(this).data("uid");jQuery("#dialog_duplicate_slider_package").dialog({modal:!0,resizable:!1,title:"Import Package",width:250,height:200,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){jQuery(this).dialog("close")},"Import Package":function(){if(""==jQuery("#rs-duplicate-prefix").val())return!1;UniteAdminRev.ajaxRequest("duplicate_slider_package",{slideruid:e,title:jQuery("#rs-duplicate-prefix").val()},function(e){jQuery("#close-template").click()})}}})}),jQuery(".input_import_slider").change(function(){""!==jQuery(this).val()?jQuery(".rev-import-slider-button").show():jQuery(".rev-import-slider-button").hide()}),jQuery("#button_import_template_slider, #button_import_template_slider_b").click(function(){i.load_slider_template_html()}),jQuery("#button_import_slider").click(function(){if(RS_DEMO)return alert(rev_lang.not_available_in_demo),!1;jQuery(".rev-import-slider-button").hide(),jQuery(".input_import_slider").val(""),jQuery("#dialog_import_slider").dialog({modal:!0,resizable:!1,width:600,height:400,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){jQuery(this).dialog("close")}}})}),jQuery(".button_delete_slider").click(function(){var e=this.id.replace("button_delete_",""),t=jQuery("#slider_title_"+e).text();if(0==confirm(rev_lang.really_want_to_delete+" '"+t+"' ?"))return!1;UniteAdminRev.ajaxRequest("delete_slider_stay",{sliderid:e},function(){jQuery('li[data-id="'+e+'"]').remove()})}),jQuery(".button_duplicate_slider").click(function(){var e=this.id.replace("button_duplicate_","");jQuery("#dialog_duplicate_slider").dialog({modal:!0,resizable:!1,width:250,height:200,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){jQuery(this).dialog("close")},Duplicate:function(){if(""==jQuery("#rs-duplicate-animation").val())return!1;UniteAdminRev.ajaxRequest("duplicate_slider",{sliderid:e,title:jQuery("#rs-duplicate-animation").val()},function(e){})}}})}),jQuery(".rev-toogle-fav").click(function(){var e=this.id.replace("reg-toggle-id-","");UniteAdminRev.ajaxRequest("toggle_favorite",{id:e},function(){var t=jQuery("#reg-toggle-id-"+e).find("i");t.hasClass("eg-icon-star-empty")?(t.removeClass("eg-icon-star-empty"),t.addClass("eg-icon-star")):(t.removeClass("eg-icon-star"),t.addClass("eg-icon-star-empty"))})}),jQuery(".button_slider_preview").click(function(){var e=this.id.replace("button_preview_","");y(e)}),jQuery(".export_slider_overview").click(function(){var e=this.id.replace("export_slider_",""),t=ajaxurl+UniteAdminRev.return_ajaxurl_param()+"action="+g_uniteDirPlugin+"_ajax_action&client_action=export_slider&dummy="+!1+"&nonce="+g_revNonce;t+="&sliderid="+e,location.href=t}),jQuery("body").on("click",".rs-embed-slider",function(){var e=jQuery(this).closest("li.tls-slide").find(".tls-alias").text();jQuery(".rs-dialog-embed-slider").find(".rs-example-alias").text(e),jQuery(".rs-dialog-embed-slider").find(".rs-example-alias-1").text('[rev_slider alias="'+e+'"]'),jQuery(".rs-dialog-embed-slider").dialog({modal:!0,resizable:!1,minWidth:850,minHeight:300,closeOnEscape:!0,create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")}})}),jQuery(".export_slider_standalone").click(function(){var e=this.id.replace("export_slider_standalone_",""),t=ajaxurl+UniteAdminRev.return_ajaxurl_param()+"action="+g_uniteDirPlugin+"_ajax_action&client_action=preview_slider&only_markup=true&dummy="+!1+"&nonce="+g_revNonce;t+="&sliderid="+e,location.href=t})};var y=function(e){var t=jQuery("#rs-preview-form");jQuery("#rs-client-action").val("preview_slider"),jQuery("#preview_sliderid").val(e),jQuery("#preview_slider_markup").val("false"),t.submit(),jQuery("#rs-preview-wrapper").show(),jQuery(window).trigger("resize")},j=function(e){var t=[];return e.find(".icon_slide_lang").each(function(){var e=jQuery(this).data("lang");t.push(e)}),t},Q=function(e,t){var i=j(e),r=0;return jQuery("#langs_float_wrapper li.item_lang").each(function(){var e=jQuery(this),a=e.data("lang");jQuery.inArray(a,i),"add"!=t&&jQuery("#langs_float_wrapper li.operation_sap").hide(),-1==jQuery.inArray(a,i)?(r++,e.show(),"add"!=t&&jQuery("#langs_float_wrapper li.operation_sap").show()):e.hide()}),r};i.initSlidesListViewPosts=function(e){m(e),jQuery("#select_sortby").change(function(){jQuery("#slides_top_loader").show();var t={};t.sliderID=e,t.sortby=jQuery(this).val(),UniteAdminRev.ajaxRequest("update_posts_sortby",t,function(){jQuery("#slides_top_loader").html("Updated, reloading page..."),location.reload(!0)})}),jQuery(".button_delete_slide").click(function(){var t={slideID:jQuery(this).data("slideid"),sliderID:e};if(0==confirm(g_messageDeleteSlide))return!1;UniteAdminRev.ajaxRequest("delete_slide",t)})};var m=function(e){jQuery("#list_slides").sortable({axis:"y",handle:".col-handle",update:function(){p(e)}}),jQuery("#list_slides .icon_state").click(function(){var t=jQuery(this),i=t.siblings(".state_loader"),r=t.data("slideid"),a={slider_id:e,slide_id:r};t.hide(),i.show(),UniteAdminRev.ajaxRequest("toggle_slide_state",a,function(e){t.show(),i.hide(),"published"==e.state?t.removeClass("state_unpublished").addClass("state_published").prop("title","Unpublish Slide"):t.removeClass("state_published").addClass("state_unpublished").prop("title","Publish Slide")})}),jQuery(".col-image .slide_image").click(function(){var t=this.id.replace("slide_image_","");UniteAdminRev.openAddImageDialog(g_messageChangeImage,function(i,r){var a={slider_id:e,slide_id:t,url_image:i,image_id:r};UniteAdminRev.ajaxRequest("change_slide_image",a)})}).tipsy({gravity:"s",delayIn:70})};i.initSlidesListView=function(e){m(e),jQuery("#button_new_slide, #button_new_slide_top").click(function(){var t=jQuery("#button_new_slide").data("dialogtitle");UniteAdminRev.openAddImageDialog(t,function(t){var i={sliderid:e,obj:t};UniteAdminRev.ajaxRequest("add_slide",i)},!0)}),jQuery("#button_new_slide_transparent, #button_new_slide_transparent_top").click(function(){jQuery(this).hide(),jQuery(".new_trans_slide_loader").show();var t={sliderid:e};UniteAdminRev.ajaxRequest("add_slide",t)}),jQuery(".button_duplicate_slide").click(function(){var t={slideID:this.id.replace("button_duplicate_slide_",""),sliderID:e};UniteAdminRev.ajaxRequest("duplicate_slide",t)}),jQuery(".button_copy_slide").click(function(){if(jQuery(this).hasClass("button-disabled"))return!1;var t=jQuery("#dialog_copy_move"),i=(t.data("textclose"),t.data("textupdate")),r=jQuery(this),a={};a[i]=function(){var t=r.attr("id").replace("button_copy_slide_",""),i=jQuery("#selectSliders").val(),a="copy";"checked"==jQuery("#radio_move").prop("checked")&&(a="move");var s={slideID:t,sliderID:e,targetSliderID:i,operation:a},l=r.siblings(".loader_copy");r.hide(),l.show(),UniteAdminRev.ajaxRequest("copy_move_slide",s),jQuery(this).dialog("close")},jQuery("#dialog_copy_move").dialog({modal:!0,resizable:!1,width:400,height:300,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:a})}),jQuery(".button_delete_slide").click(function(){var t={slideID:jQuery(this).data("slideid"),sliderID:e};if(0==confirm("Delete this slide?"))return!1;var i=jQuery(this),r=i.siblings(".loader_delete");i.hide(),r.show(),UniteAdminRev.ajaxRequest("delete_slide",t)}),jQuery("#list_slides .icon_slide_preview").click(function(){var e=jQuery(this).data("slideid");v(e,!1)})},i.saveEditSlide=function(e,t){t||(t=!1),tpLayerTimelinesRev.updateZIndexByOrder(),UniteLayersRev.setRowZoneOrders(),tpLayerTimelinesRev.organiseGroupsAndLayer();var i=UniteLayersRev.getLayers(),r={};for(key in i)!0!==i[key].layer_unavailable&&!0!==i[key].deleted&&(r[key]=jQuery.extend(!0,{},i[key]),void 0!==r[key].layer_unavailable&&delete r[key].layer_unavailable,void 0!==r[key].deleted&&delete r[key].deleted,void 0!==r[key].references&&delete r[key].references,void 0!==r[key].createdOnInit&&delete r[key].createdOnInit);JSON&&JSON.stringify&&(r=JSON.stringify(r));var a={slideid:e,layers:r};if(a.params=RevSliderSettings.getSettingsObject("form_slide_params"),!t){a.params.slide_bg_color=jQuery("#slide_bg_color").val(),a.params.slide_bg_external=jQuery("#slide_bg_external").val(),a.params.bg_fit=jQuery("#slide_bg_fit").val(),a.params.bg_fit_x=jQuery("input[name='bg_fit_x']").val(),a.params.bg_fit_y=jQuery("input[name='bg_fit_y']").val(),a.params.bg_repeat=jQuery("#slide_bg_repeat").val(),a.params.bg_position=jQuery("#slide_bg_position").val(),a.params.bg_position_x=jQuery("input[name='bg_position_x']").val(),a.params.bg_position_y=jQuery("input[name='bg_position_y']").val(),a.params.bg_end_position_x=jQuery("input[name='bg_end_position_x']").val(),a.params.bg_end_position_y=jQuery("input[name='bg_end_position_y']").val();var s=f();if("object"==typeof s&&!jQuery.isEmptyObject(s))for(key in s)a.params[key]=s[key];a.params.kenburn_effect=jQuery("input[name='kenburn_effect']").is(":checked")?"on":"off",a.params.kb_start_fit=jQuery("input[name='kb_start_fit']").val(),a.params.kb_end_fit=jQuery("input[name='kb_end_fit']").val(),a.params.bg_end_position=jQuery("select[name='bg_end_position']").val(),a.params.kb_duration=jQuery("input[name='kb_duration']").val(),a.params.kb_easing=jQuery("select[name='kb_easing']").val(),a.params.slide_transition=[],a.params.slot_amount=[],a.params.transition_rotation=[],a.params.transition_duration=[],a.params.transition_ease_in=[],a.params.transition_ease_out=[],jQuery(".slide-trans-cur-ul li").each(function(){a.params.slide_transition.push(jQuery(this).data("animval")),a.params.slot_amount.push(jQuery(this).data("slot")),a.params.transition_rotation.push(jQuery(this).data("rotation")),a.params.transition_duration.push(jQuery(this).data("duration")),a.params.transition_ease_in.push(jQuery(this).data("ease_in")),a.params.transition_ease_out.push(jQuery(this).data("ease_out"))});var l=jQuery(".bgsrcchanger:checked").val();if(("vimeo"==l||"html5"==l||"youtube"==l)&&!(void 0!==a.params.image_id&&0!=parseInt(a.params.image_id)&&""!=a.params.image_id||void 0!==a.params.image_url&&""!=a.params.image_url))return alert(rev_lang.cover_image_needs_to_be_set),!1;switch(jQuery('input[name="rs-gallery-type"]').val()){case"gallery":break;case"posts":case"woocommerce":case"facebook":case"twitter":case"instagram":case"flickr":case"youtube":case"vimeo":a.params.image_url=""}}a.settings={};var n=[];jQuery("#hor-css-linear .helplines").each(function(){n.push(jQuery(this).css("left"))});var o=[];jQuery("#ver-css-linear .helplines").each(function(){o.push(jQuery(this).css("top"))}),a.settings.hor_lines=n,a.settings.ver_lines=o,jQuery.each(UniteLayersRev.addon_callbacks,function(e,t){var i=t.callback,r=t.environment,s=t.function_position;"saveEditSlide"===r&&"data"==s&&(a=i(a))}),a.obj_favorites=favoriteObjectsList,t?(UniteAdminRev.setAjaxHideButtonID("button_save_static_slide,button_save_static_slide-tb"),UniteAdminRev.setAjaxLoaderID("loader_update"),UniteAdminRev.setSuccessMessageID("update_slide_success"),UniteAdminRev.ajaxRequest("update_static_slide",a)):(UniteAdminRev.setAjaxHideButtonID("button_save_slide,button_save_slide-tb"),UniteAdminRev.setAjaxLoaderID("loader_update"),UniteAdminRev.setSuccessMessageID("update_slide_success"),UniteAdminRev.ajaxRequest("update_slide",a))},this.initEditSlideView=function(e,t,r){jQuery("body").on("click",".rs-reload-shop",function(){confirm(rev_lang.unsaved_data_will_be_lost_proceed)&&(showWaitAMinute({fadeIn:300,text:rev_lang.please_wait_a_moment}),location.href=window.location.href+"&update_shop")}),jQuery("body").on("click",".install_template_slide",function(){var i=jQuery(this);if(i.hasClass("deny_download"))return alert(rev_lang.this_template_requires_version+" "+i.data("versionneed")+" "+rev_lang.of_slider_revolution),!1;confirm(rev_lang.unsaved_data_will_be_lost_proceed)&&(jQuery(".rs-zip-name").text(i.data("zipname")),jQuery(".rs-uid").val(i.data("uid")),jQuery(".rs-slide-number").val(i.data("slidenumber")),jQuery(".rs-slider-id").val(t),r?jQuery(".rs-slide-id").val("static_"+t):jQuery(".rs-slide-id").val(e),jQuery("#dialog_import_template_slide_from").dialog({modal:!0,resizable:!1,create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Local:function(){jQuery(".input_import_slider").val(""),jQuery(".rs-import-slider-button").hide(),jQuery("#dialog_import_template_slide").dialog({modal:!0,resizable:!1,width:600,height:350,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:{Close:function(){jQuery(this).dialog("close")}}})},Online:function(){rs_plugin_validated?(showWaitAMinute({fadeIn:300,text:rev_lang.please_wait_a_moment}),jQuery("#rs-import-slide-template-from-server").submit(),jQuery(this).dialog("close")):alert(rev_lang.this_feature_only_if_activated)}}}),jQuery("#close-template").click())}),jQuery(".tp-accordion").click(function(){var e=jQuery(this);e.hasClass("tpa-closed")?(e.parent().parent().parent().find(".tp-closeifotheropen").each(function(){jQuery(this).slideUp(300),jQuery(this).parent().find(".tp-accordion").addClass("tpa-closed").addClass("box_closed").find(".postbox-arrow2").html("+")}),e.parent().find(".toggled-content").slideDown(300),e.removeClass("tpa-closed").removeClass("box_closed"),e.find(".postbox-arrow2").html("-")):(e.parent().find(".toggled-content").slideUp(300),e.addClass("tpa-closed").addClass("box_closed"),e.find(".postbox-arrow2").html("+"))}),jQuery(".mw960").each(function(){var e=jQuery("#divLayers").width();e<960&&(e=960),jQuery(this).css({maxWidth:e+"px"})}),jQuery("#button_sort_depth").on("click",function(){jQuery(".layer_sortbox").addClass("depthselected"),jQuery(".layer_sortbox").removeClass("timeselected")}),jQuery("#button_sort_time").on("click",function(){jQuery(".layer_sortbox").removeClass("depthselected"),jQuery(".layer_sortbox").addClass("timeselected")}),jQuery("#link_add_slide").click(function(){var e={sliderid:t};jQuery("#loader_add_slide").show(),UniteAdminRev.ajaxRequest("add_slide_fromslideview",e)}),jQuery("#link_add_bulk_slide").click(function(){UniteAdminRev.openAddImageDialog(rev_lang.add_bulk_slides,function(e){var i={sliderid:t,obj:e};UniteAdminRev.ajaxRequest("add_bulk_slide",i)},!0)}),jQuery("body").on("click",".add_template_slide_item, .add_user_template_slide_item",function(){if(confirm(rev_lang.unsaved_data_will_be_lost_proceed)){var i={slider_id:t};i.slide_id=jQuery(this).data("slideid"),i.redirect_id=r?"static_"+t:e,UniteAdminRev.ajaxRequest("copy_slide_to_slider",i,function(){jQuery("#close-template").click()})}}),jQuery("#button_save_slide").click(function(){i.saveEditSlide(e),UniteLayersRev.set_save_needed(!1)}),jQuery("#button_save_slide-tb").click(function(){i.saveEditSlide(e),UniteLayersRev.set_save_needed(!1)}),jQuery("#button_save_static_slide").click(function(){i.saveEditSlide(e,!0),UniteLayersRev.set_save_needed(!1)}),jQuery("#button_save_static_slide-tb").click(function(){i.saveEditSlide(e,!0),UniteLayersRev.set_save_needed(!1)}),jQuery("#button_change_image").click(function(){UniteAdminRev.openAddImageDialog(rev_lang.select_slide_img,function(e,t){void 0==t&&(t=""),jQuery("#divbgholder").css("background-image","url("+e+")"),jQuery("#slide_selector .list_slide_links li.selected .slide-media-container ").css("background-image","url("+e+")"),jQuery("#image_url").val(e),jQuery("#image_id").val(t),UniteLayersRev.changeSlotBGs(),jQuery(".bgsrcchanger:checked").click(),jQuery('input[name="kenburn_effect"]').is(":checked")&&jQuery('input[name="kb_start_fit"]').change()})}),jQuery(".button_change_video").click(function(){var e=jQuery(this).data("inptarget");UniteAdminRev.openAddVideoDialog(rev_lang.select_slide_video,function(t,i){jQuery('input[name="'+e+'"]').val(t),jQuery("#html5_url_audio, #html5_url_ogv, #html5_url_webm, #html5_url_mp4").change()})}),jQuery("#link_hide_options").click(function(){1==jQuery("#slide_params_holder").is(":visible")?(jQuery("#slide_params_holder").hide("slow"),jQuery(this).text(rev_lang.show_slide_opt).addClass("link-selected")):(jQuery("#slide_params_holder").show("slow"),jQuery(this).text(rev_lang.hide_slide_opt).removeClass("link-selected"))}),jQuery("#button_preview_slide").click(function(){v(e,!0)}),jQuery("#button_preview_slide-tb").click(function(){v(e,!0)}),jQuery("#radio_back_image, #radio_back_trans, #radio_back_solid, #radio_back_external, #radio_back_youtube, #radio_back_htmlvideo").click(function(){var e=jQuery("#background_type").val(),t=jQuery(this).data("bgtype");if(e==t)return!0;"image"==t?jQuery("#button_change_image").removeClass("button-disabled"):jQuery("#button_change_external").addClass("button-disabled"),"solid"==t?jQuery("#slide_bg_color").removeClass("disabled").prop("disabled",""):jQuery("#slide_bg_color").addClass("disabled").prop("disabled","disabled"),"external"==t?(jQuery("#slide_bg_external").removeClass("disabled").prop("disabled",""),jQuery("#button_change_image").removeClass("button-disabled"),jQuery("#button_change_external").removeClass("button-disabled")):(jQuery("#slide_bg_external").addClass("disabled").prop("disabled","disabled"),jQuery("#button_change_external").addClass("button-disabled")),jQuery("#background_type").val(t),h(t)}),jQuery("#button_change_external").click(function(){var e=jQuery("#radio_back_external:checked").data("bgtype");"external"==e&&(jQuery("#slide_bg_external").removeClass("disabled").prop("disabled",""),jQuery("#button_change_image").removeClass("button-disabled"),h(e),jQuery('input[name="kenburn_effect"]').is(":checked")&&jQuery('input[name="kb_start_fit"]').change(),UniteLayersRev.changeSlotBGs())}),UniteAdminRev.setColorPickerCallback(function(){if("solid"==jQuery("#background_type").val()){var e=jQuery("#slide_bg_color").val();jQuery("#divbgholder").css("background-color",e),jQuery("#slide_selector .list_slide_links li.selected .slide-media-container ").css({backgroundColor:e})}}),jQuery("#title").on("input",function(e){jQuery(".slide_title").text(jQuery("#title").val())}),jQuery(".list_slide_links").sortable({items:"li:not(.eg-drag-disabled)",update:function(){a(t)}});var a=function(e){var t=jQuery(".list_slide_links").sortable("toArray"),i=[];jQuery(t).each(function(e,t){var r=t.replace("slidelist_item_","");i.push(r)});var r={arrIDs:i,sliderID:e};jQuery("#loader_add_slide").show(),UniteAdminRev.ajaxRequest("update_slides_order",r,function(){jQuery("#loader_add_slide").hide()})};jQuery(".inputDatePicker").datepicker({dateFormat:"dd-mm-yy 00:00"}),jQuery("#button_delete_slide").click(function(){var i={slideID:e,sliderID:t};if(0==confirm(g_messageDeleteSlide))return!1;UniteAdminRev.ajaxRequest("delete_slide",i)}),"false"==jQuery('input[name="load_googlefont"]:checked').val()&&(jQuery("#load_googlefont_row").siblings(".spanSettingsStaticText").remove(),jQuery("#load_googlefont_row").remove(),jQuery("#google_font_row").remove(),jQuery("#load_googlefont").closest(".postbox.unite-postbox").hide()),jQuery("body").on("click",".slide-remove",function(){var e=jQuery(this).closest("li").attr("id").replace("slidelist_item_",""),i={slideID:e,sliderID:t};if(0==confirm("Delete this slide?"))return!1;var r=jQuery(this),a=r.siblings(".loader_delete");r.hide(),a.show();var s=jQuery(this).closest("li"),l=curSlideID==e?"delete_slide":"delete_slide_stay";UniteAdminRev.ajaxRequest(l,i,function(e){s.remove()})}),jQuery("body").on("click",".slide-published.pubclickable, .slide-unpublished.pubclickable",function(){var e=jQuery(this).closest("li"),i=e.attr("id").replace("slidelist_item_",""),r={slider_id:t,slide_id:i};return objButton=jQuery(this),e.find(".slide-published").fadeOut(200),e.find(".slide-unpublished").fadeOut(200),UniteAdminRev.ajaxRequest("toggle_slide_state",r,function(t){"published"==t.state?(e.find(".slide-published").removeClass("pubclickable").fadeIn(200),e.find(".slide-unpublished").addClass("pubclickable").fadeIn(200),curSlideID==i&&jQuery('select[name="state"] option[value="published"]').attr("selected",!0)):(e.find(".slide-published").addClass("pubclickable").fadeIn(200),e.find(".slide-unpublished").removeClass("pubclickable").fadeIn(200),curSlideID==i&&jQuery('select[name="state"] option[value="unpublished"]').attr("selected",!0))}),!1}),jQuery("body").on("click",".slide-hero-unpublished.pubclickable",function(){var e=jQuery(this).closest("li"),i=jQuery(this).closest("ul"),r=e.attr("id").replace("slidelist_item_",""),a={slider_id:t,slide_id:r};return objButton=jQuery(this),UniteAdminRev.ajaxRequest("toggle_hero_slide",a,function(t){i.find(".slide-hero-published").removeClass("slide-hero-published").addClass("slide-hero-unpublished").addClass("pubclickable"),e.find(".slide-hero-unpublished").removeClass("pubclickable").removeClass("slide-hero-unpublished").addClass("slide-hero-published")}),!1}),jQuery("body").on("click",".slide-duplicate",function(){var e=jQuery(this).closest("li"),i=e.attr("id").replace("slidelist_item_",""),r={slider_id:t,slide_id:i},a=jQuery(this);a.hide(),r={slideID:i,sliderID:t},UniteAdminRev.ajaxRequest("duplicate_slide_stay",r,function(t){if(a.show(),1==t.success){var r=e.clone(!0).insertAfter(e);r.attr("id","slidelist_item_"+t.id),r.hasClass("selected")&&(r.removeClass("selected"),jQuery('<a href="#" class="slide-link-toolbar-button slide-moveto"><span class=""><i class="eg-icon-forward"></i><span>'+rev_lang.copy_move+"</span></span></a>").insertAfter(r.find(".slide-remove")));var s=r.find("a").first().attr("href");s="javascript:void(0)"==s?"?page=revslider&view=slide&id="+t.id:s.replace("id="+i,"id="+t.id),r.find("a").first().attr("href",s);var l=0;jQuery(".list_slide_links li").each(function(){jQuery(this).find(".slide-link-nr").text("#"+l),l++})}})}),jQuery("body").on("click",".slide-moveto",function(){var e=jQuery(this).closest("li"),i=jQuery(this),r=jQuery("#dialog_copy_move"),a=(r.data("textclose"),r.data("textupdate")),i=jQuery(this),s={};s[a]=function(){var r=e.attr("id").replace("slidelist_item_",""),a=jQuery("#selectSliders").val(),s="copy";"checked"!=jQuery("#radio_move").prop("checked")&&1!=jQuery("#radio_move").prop("checked")||(s="move");var l={slideID:r,sliderID:t,targetSliderID:a,operation:s};i.siblings(".loader_copy"),i.hide(),UniteAdminRev.ajaxRequest("copy_move_slide_stay",l,function(t){i.show(),"move"==s&&e.remove()}),jQuery(this).dialog("close")},jQuery("#dialog_copy_move").dialog({modal:!0,resizable:!1,width:400,height:300,closeOnEscape:!0,dialogClass:"tpdialogs",create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},buttons:s})}),jQuery("body").on("click",".slide-add-as-template",function(){if(confirm(rev_lang.unsaved_changes_will_not_be_added)){var e=jQuery(this).closest("li"),t=prompt(rev_lang.please_enter_a_slide_title,e.find(".slidetitleinput").val()),i=jQuery('input[name="rs-grid-width"]').val(),r=jQuery('input[name="rs-grid-height"]').val(),a=e.attr("id").replace("slidelist_item_",""),s={width:i,height:r};if(null!=t){var l=jQuery(this);l.hide();var n={slideID:a,title:t,settings:s};UniteAdminRev.ajaxRequest("add_slide_to_template",n,function(e){l.show(),jQuery("#template_area").replaceWith(e.HTML),templateSelectorHandling()})}}}),jQuery("#rev_lang_list").delegate(".icon_slide_lang, .icon_slide_lang_add","click",function(e){e.stopPropagation();var t=UniteAdminRev.getAbsolutePos(this),i=t[0]-135,r=t[1]-60,a=jQuery(this),s=a.data("operation"),l=a.data("isparent");"add"==s?jQuery("#langs_float_wrapper .item_operation").hide():(jQuery("#langs_float_wrapper .item_operation").show(),1==l&&jQuery("#langs_float_wrapper .item_operation.operation_delete").hide());var n=a.parents(".list_slide_icons");Q(n,s),jQuery("#langs_float_wrapper").show().css({left:i,top:r}),jQuery("#langs_float_wrapper").data("iconid",this.id)}),jQuery("body").click(function(){jQuery("#langs_float_wrapper").hide()}),jQuery("#slides_langs_float li a").click(function(){var e=jQuery(this),i=e.data("lang"),r=jQuery("#langs_float_wrapper").data("iconid");if(!r)return!0;var a=jQuery("#"+r),s=a.parents(".list_slide_icons"),l=e.data("operation");void 0!=l&&l||(l=a.data("operation")),void 0!=l&&l||(l="update");var n=a.data("lang"),o=a.data("slideid"),u=a.data("origid");if(n==i)return!0;if("preview"!=l&&(a.siblings(".icon_lang_loader").show(),a.hide()),"edit"==l){var d=g_patternViewSlide.replace("[slideid]",o);return location.href=d,!0}if("preview"==l)return y(t),!0;"delete"!=l&&"update"!=l||(u=o);var c={sliderid:t,slideid:u,lang:i,operation:l};UniteAdminRev.ajaxRequest("slide_lang_operation",c,function(e){switch(a.siblings(".icon_lang_loader").hide(),e.operation){case"update":a.attr("src",e.url_icon),a.attr("title",e.title),a.data("lang",i),a.show();break;case"add":a.show(),a.parent().before(e.html),1==e.isAll&&s.find(".icon_slide_lang_add").hide();break;case"delete":a.parent().remove(),s.find(".icon_slide_lang_add").show()}})}),jQuery(".tp-moderncheckbox").each(function(){RevSliderSettings.onoffStatus(jQuery(this))}),RevSliderSettings.onoffStatus(jQuery('input[name="hideslideonmobile"]')),RevSliderSettings.onoffStatus(jQuery('input[name="stream_do_cover"]')),RevSliderSettings.onoffStatus(jQuery('input[name="stream_do_cover_both"]')),RevSliderSettings.onoffStatus(jQuery('input[name="kenburn_effect"]')),RevSliderSettings.onoffStatus(jQuery('input[name="save_performance"]')),RevSliderSettings.onoffStatus(jQuery('input[name="video_force_cover"]')),RevSliderSettings.onoffStatus(jQuery('input[name="video_nextslide"]')),RevSliderSettings.onoffStatus(jQuery('input[name="video_allowfullscreen"]')),RevSliderSettings.onoffStatus(jQuery('input[name="video_force_rewind"]')),RevSliderSettings.onoffStatus(jQuery('input[name="video_mute"]')),RevSliderSettings.onoffStatus(jQuery('input[name="thumb_for_admin"]')),jQuery("#video_force_cover").change(function(){jQuery(this).is(":checked")?jQuery("#video_dotted_overlay_wrap").show():jQuery("#video_dotted_overlay_wrap").hide()}),jQuery("#video_force_cover").change()};var v=function(e,t){void 0===t&&(t=!0);var i=jQuery("#rs-preview-form"),r={slideid:e};if(1==t){r.params=RevSliderSettings.getSettingsObject("form_slide_params"),r.params.slide_bg_color=jQuery("#slide_bg_color").val(),r.params.slide_bg_external=jQuery("#slide_bg_external").val(),r.params.bg_fit=jQuery("#slide_bg_fit").val(),r.params.bg_fit_x=jQuery("input[name='bg_fit_x']").val(),r.params.bg_fit_y=jQuery("input[name='bg_fit_y']").val(),r.params.bg_repeat=jQuery("#slide_bg_repeat").val(),r.params.bg_position=jQuery("#slide_bg_position").val(),r.params.bg_position_x=jQuery("input[name='bg_position_x']").val(),r.params.bg_position_y=jQuery("input[name='bg_position_y']").val(),r.params.bg_end_position_x=jQuery("input[name='bg_end_position_x']").val(),r.params.bg_end_position_y=jQuery("input[name='bg_end_position_y']").val(),r.params.kenburn_effect=jQuery("input[name='kenburn_effect']").is(":checked")?"on":"off",r.params.kb_start_fit=jQuery("input[name='kb_start_fit']").val(),r.params.kb_end_fit=jQuery("input[name='kb_end_fit']").val(),r.params.bg_end_position=jQuery("select[name='bg_end_position']").val(),r.params.kb_duration=jQuery("input[name='kb_duration']").val(),r.params.kb_easing=jQuery("select[name='kb_easing']").val();var a=UniteLayersRev.getLayers(),s={};for(key in a)!0!==a[key].layer_unavailable&&!0!==a[key].deleted&&(s[key]=jQuery.extend(!0,{},a[key]),void 0!==s[key].layer_unavailable&&delete s[key].layer_unavailable,void 0!==s[key].deleted&&delete s[key].deleted,void 0!==s[key].references&&delete s[key].references,void 0!==s[key].createdOnInit&&delete s[key].createdOnInit);r.layers=s}var l=JSON.stringify(r);jQuery("#preview-slide-data").val(l),jQuery("#rs-client-action").val("preview_slide"),i.submit(),jQuery("#rs-preview-wrapper").show(),jQuery(window).trigger("resize")},h=function(e){switch(e){case"image":i=jQuery("#image_url").val(),jQuery("#divbgholder").css("background-image","url('"+i+"')"),jQuery("#divbgholder").css("background-color","transparent"),jQuery("#divbgholder").removeClass("trans_bg"),jQuery('input[name="kenburn_effect"]').is(":checked")&&jQuery('input[name="kb_start_fit"]').change();break;case"trans":jQuery("#divbgholder").css("background-image","none"),jQuery("#divbgholder").css("background-color","transparent"),jQuery("#divbgholder").addClass("trans_bg");break;case"solid":jQuery("#divbgholder").css("background-image","none"),jQuery("#divbgholder").removeClass("trans_bg");var t=jQuery("#slide_bg_color").val();jQuery("#divbgholder").css("background-color",t),jQuery("#slide_selector .list_slide_links li.selected .slide-media-container ").css({backgroundColor:t});break;case"external":i=jQuery("#slide_bg_external").val(),jQuery("#divbgholder").css("background-image","url('"+i+"')"),jQuery("#divbgholder").css("background-color","transparent"),jQuery("#divbgholder").removeClass("trans_bg"),jQuery('input[name="kenburn_effect"]').is(":checked")&&jQuery('input[name="kb_start_fit"]').change();break;case"youtube":case"html5":var i=jQuery("#image_url").val();jQuery("#divbgholder").css("background-image","url('"+i+"')"),jQuery("#divbgholder").css("background-color","transparent"),jQuery("#divbgholder").removeClass("trans_bg")}},f=function(){var e=new Object;return e.bg_fit=jQuery("#slide_bg_fit").val(),"percentage"==e.bg_fit&&(e.bg_fit_x=jQuery('input[name="bg_fit_x"]').val(),e.bg_fit_y=jQuery('input[name="bg_fit_y"]').val()),e.bg_position=jQuery("#slide_bg_position").val(),"percentage"==e.bg_position&&(e.bg_position_x=jQuery('input[name="bg_position_x"]').val(),e.bg_position_y=jQuery('input[name="bg_position_y"]').val()),e.bg_end_position=jQuery("#slide_bg_end_position").val(),"percentage"==e.bg_end_position&&(e.bg_end_position_x=jQuery('input[name="bg_end_position_x"]').val(),e.bg_end_position_y=jQuery('input[name="bg_end_position_y"]').val()),e.bg_repeat=jQuery("#slide_bg_repeat").val(),e},g=null,b=null,w=null;i.setStaticCssCaptionsUrl=function(e){w=e},i.getUrlStaticCssCaptions=function(){return w},i.initGlobalStyles=function(){k(),x()},i.setCodeMirrorStaticEditor=function(){b=CodeMirror.fromTextArea(document.getElementById("textarea_edit_static"),{lineNumbers:!0})},i.setCodeMirrorDynamicEditor=function(){g=CodeMirror.fromTextArea(document.getElementById("textarea_show_dynamic_styles"),{lineNumbers:!0,readOnly:!0})};var k=function(){jQuery("#css-static-accordion").accordion({heightStyle:"content",activate:function(e,t){null!=b&&b.refresh(),null!=g&&g.refresh()}})},x=function(){jQuery("#button_edit_css_global").click(function(){jQuery("#css-static-accordion").accordion({active:1}),UniteAdminRev.ajaxRequest("get_static_css","",function(e){var t=e.data;null!=b?b.setValue(t):(jQuery("#textarea_edit_static").val(t),setTimeout("RevSliderAdmin.setCodeMirrorStaticEditor()",500))}),UniteAdminRev.ajaxRequest("get_dynamic_css","",function(e){var t=e.data;null!=g?g.setValue(t):(jQuery("#textarea_show_dynamic_styles").val(t),setTimeout("RevSliderAdmin.setCodeMirrorDynamicEditor()",500))}),jQuery("#css_static_editor_wrap").dialog({modal:!0,resizable:!1,title:rev_lang.global_styles_editor,minWidth:700,minHeight:500,closeOnEscape:!0,create:function(e){jQuery(e.target).parent().find(".ui-dialog-titlebar").addClass("tp-slider-new-dialog-title")},open:function(){jQuery(this).closest(".ui-dialog").find(".ui-button").each(function(e){var t;0==e&&(t="revgray"),1==e&&(t="revgreen"),2==e&&(t="revred"),jQuery(this).addClass(t).addClass("button-primary").addClass("rev-uibuttons")})},buttons:{Save:function(){if(!confirm(rev_lang.really_update_global_styles))return!1;UniteAdminRev.setErrorMessageID("dialog_error_message");var e;e=null!=b?b.getValue():jQuery("#textarea_edit_static").val(),UniteAdminRev.ajaxRequest("update_static_css",e,function(e){null!=b?b.setValue(e.css):jQuery("#textarea_edit_static").val(css)}),jQuery(this).dialog("close")},Cancel:function(){jQuery(this).dialog("close")}}})})}};