!function(){var e={NORMAL:"normal",EXPANDED:"expanded",EXPANDED_PREVIEW_ON_TOP:"expanded_preview_on_top"},n=document.getElementById("google-publisher-plugin-admin-wrap"),i=document.getElementById("google-publisher-plugin-admin-iframe"),t=document.getElementById("google-publisher-plugin-preview-iframe"),o=e.NORMAL,a=0,s=function(t,s,g){o=t,a=s;var r;switch(t){case e.NORMAL:r="";break;case e.EXPANDED:r="google-publisher-plugin-expanded";break;case e.EXPANDED_PREVIEW_ON_TOP:r="google-publisher-plugin-expanded google-publisher-plugin-preview-on-top"}n.className=r,i.style.height=t==e.NORMAL&&void 0!==g?g+"px":"",l();var p=t!=e.NORMAL,d=document.getElementById("adminmenuwrap");d&&(d.style.visibility=p?"hidden":"visible");var m=document.getElementById("adminmenuback");m&&(m.style.visibility=p?"hidden":"visible")},l=function(){var n=o==e.NORMAL?0:g();i.style.marginTop=n+"px";var s=n+a;t.style.marginTop=s+"px",t.style.height=window.innerHeight-s+"px"},g=function(){var e=28,n=document.getElementById("wphead"),i=document.getElementById("wpadminbar");return n?e=n.offsetHeight-1:i&&(e=i.offsetHeight),e};window.addEventListener("message",function(e){if("https://publisherplugin.google.com"===e.origin){var n=JSON.parse(e.data);switch(n.action){case"get_environment":i.contentWindow.postMessage(JSON.stringify({action:"get_environment_reply",environment:googlePublisherPluginAdmin.ENVIRONMENT}),"https://publisherplugin.google.com");break;case"send_cms_command":var o=document.URL+"&google_publisher_plugin_action=cms_command&command="+n.command+"&_wpnonce="+googlePublisherPluginAdmin.CMS_COMMAND_NONCE,a="param="+encodeURIComponent(n.param),l=new XMLHttpRequest;l.open("POST",o,!1),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(a),i.contentWindow.postMessage(JSON.stringify({action:"send_cms_command_reply",httpStatus:l.status,httpResponse:l.responseText}),"https://publisherplugin.google.com");break;case"set_iframe_layout":s(n.layout,n.previewMarginTop,n.pageHeight);break;case"set_preview_url":t.contentWindow.location.replace(n.value)}}else console.log("receiveMessage: bad origin: "+e.origin)},!1),window.addEventListener("resize",l,!1),i.addEventListener("load",function(){i.contentWindow.postMessage("AllowFrame: GooglePublisherPlugin","https://publisherplugin.google.com")},!1)}();