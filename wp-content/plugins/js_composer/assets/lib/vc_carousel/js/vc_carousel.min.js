!function(t){"use strict";function i(i,e){this.$element=t(i),this.$indicators=this.$element.find(".vc_carousel-indicators"),this.options=e,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"===this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this)),this._build()}i.DEFAULTS={mode:"horizontal",partial:!1,interval:5e3,pause:"hover",wrap:!1,autoHeight:!1,perView:1},i.prototype.cycle=function(i){return i||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this.touch_start_position=0,this},i.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".vc_item.vc_active"),this.$active.length||(this.$active=this.$element.find(".vc_item:first").addClass("vc_active")),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},i.prototype.showHideControl=function(t){if(void 0===t)var t=this.getActiveIndex();this.$left_control[0===t?"hide":"show"](),this.$right_control[t===this.items_count-1?"hide":"show"]()},i.prototype.to=function(i){var e=this,s=this.getActiveIndex();if(!(i>this.$items.length-1||0>i))return this.sliding?this.$element.one("slid",function(){e.to(i)}):s==i?this.pause().cycle():this.slide(i>s?"next":"prev",t(this.$items[i]))},i.prototype.pause=function(i){return i||(this.paused=!0),this.$element.find(".vc_right.vc_carousel-control, .vc_left.vc_carousel-control").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(i,e){var s=this.$element.find(".vc_item.vc_active"),n=e||s[i](),o=this.interval,a="next"===i?"vc_left":"vc_right",r="next"===i?"first":"last",h=this;if(!n.length){if(!this.options.wrap)return void this.returnSwipedSlide();n=this.$element.find(".vc_item")[r]()}this.sliding=!0,o&&this.pause();var l=t.Event("slide.vc.carousel",{relatedTarget:n[0],direction:a});if(!n.hasClass("vc_active")){if(this.$indicators.length&&(this.$indicators.find(".vc_active").removeClass("vc_active"),this.$indicators.find(".vc_partial").removeClass("vc_partial"),this.$element.one("slid",function(){var i=h.getActiveIndex(),e=t(h.$indicators.children().slice(i,h.getActiveIndex()+h.options.perView));e&&e.addClass("vc_active"),h.options.partial&&e&&(i+1<h.items_count?e.last().next().addClass("vc_partial"):e.first().prev().addClass("vc_partial")),!h.options.wrap&&h.showHideControl(i)})),this.current_index=n.index(),!h.options.wrap&&this.showHideControl(this.current_index),this.current_index>this.items_count?this.current_index=0:0>this.current_index&&(this.current_index=this.items_count-1),this.options.autoHeight?this.current_pos_value=-1*this._step*this.current_index:this.current_pos_value=-1*n.position()[this.animation_position],this.options.partial&&this.current_index>=this.items_count-1&&(this.current_pos_value+=this._step*(1-this.partial_part)),t.support.transition&&this.$element.hasClass("vc_slide")){if(this.$element.trigger(l),l.isDefaultPrevented())return;this.$slideline_inner.addClass("vc_transition").css(this.animation_position,this.current_pos_value+h.pos_units),this.options.autoHeight||this.recalculateSlidelineHeight(n.height(),!0),this.$slideline_inner.one(t.support.transition.end,function(){n.addClass("vc_active"),s.removeClass("vc_active"),h.$slideline_inner.removeClass([i,"vc_transition"].join(" ")),h.sliding=!1,h.removeSwipeAnimationSpeed(),setTimeout(function(){h.$element.trigger("slid")},0)}).emulateTransitionEnd(this.transition_speed)}else{if(this.$element.trigger(l),l.isDefaultPrevented())return;s.removeClass("vc_active"),n.addClass("vc_active"),this.sliding=!1,this.$slideline_inner.css(this.animation_position,this.current_pos_value+h.pos_units)}return o&&this.cycle(),this}},i.prototype.setSwipeAnimationSpeed=function(){this.$slideline_inner.addClass("vc_swipe-transition")},i.prototype.removeSwipeAnimationSpeed=function(){this.$slideline_inner.removeClass("vc_swipe-transition")},i.prototype.velocity=function(t,i){return{x:Math.abs(i/t)||0}},i.prototype.recalculateSlidelineHeight=function(t,i){!0===i?this.$slideline.animate({height:t}):this.$slideline.height(t)},i.prototype.resizeAction=function(){var i=0,e=0;"horizontal"===this.options.mode&&(this.el_effect_size=this.$element.width()*(this.options.partial?this.partial_part:1),this.$slideline.width(this.items_count*this.el_effect_size)),this.options.autoHeight?(this.$items.height("auto"),this.$items.each(function(){var e=t(this).height();e>i&&(i=e)}),this.$items.height(i)):this.recalculateSlidelineHeight(this.$active.height()),"vertical"===this.options.mode&&(this._step=this.$active.height(),e=this.$active.height()*this.options.perView*(this.options.partial?2-this.partial_part:1),this.recalculateSlidelineHeight(e,!1),this.$slideline_inner.css({top:-1*this.$active.position().top}),this.el_effect_size=this._step)},i.prototype.returnSwipedSlide=function(){var t={};t[this.animation_position]=this.current_pos_value+this.pos_units,this.$slideline_inner.animate(t)},i.prototype._build=function(){var i=this.$element.get(0),e=!1,s=0,n=0,o=0,a=!1,r=this,h=this.options.mode;if(this.getActiveIndex(),this.el_width=0,this.items_count=this.$items.length,this.$slideline=this.$element.find(".vc_carousel-slideline"),this.$slideline_inner=this.$slideline.find("> div"),this.slideline_inner=this.$slideline_inner.get(0),this.partial_part=.8,this._slide_width=0,this.swipe_velocity=.7,this.current_pos_value=0,this.current_index=0,this.el_effect_size=0,this.transition_speed=600,this.$left_control=this.$element.find(".vc_left.vc_carousel-control"),this.$right_control=this.$element.find(".vc_right.vc_carousel-control"),this.options.partial&&(this.options.autoHeight=!0),1<this.options.perView&&this.$element.addClass("vc_per-view-more vc_per-view-"+this.options.perView),"horizontal"===h?(this.pos_units="%",this._step=100/this.items_count/this.options.perView,this.animation_position="left",this.$items.width(this._step+this.pos_units),this.touch_direction="pageX"):(this.pos_units="px",this.animation_position="top",this.touch_direction="pageY",this.$element.addClass("vc_carousel_vertical")),!r.options.wrap&&this.showHideControl(),this.options.partial&&this.$element.addClass("vc_partial"),this.$indicators.length){var l=r.$indicators.children().slice(this.current_index,this.current_index+this.options.perView).addClass("vc_active");this.options.partial&&l.last().next().addClass("vc_partial")}return t(window).resize(this.resizeAction.bind(this)),this.resizeAction(),i.addEventListener("touchstart",function(t){e=parseFloat(t[r.touch_direction]),s=t.timeStamp,n=r.$slideline_inner.position()[r.animation_position]}.bind(this),!1),i.addEventListener("touchmove",function(t){return o=parseFloat(t[r.touch_direction])-e,!(a=0<Math.abs(o))||(t.preventDefault(),void(r.slideline_inner.style[r.animation_position]=n+o+"px"))},!1),i.addEventListener("touchend",function(t){var i,e,n;a&&(i=(t.timeStamp-s)/1e3,e=o/r.el_effect_size,n=r.velocity(i,e),n.x>r.swipe_velocity&&0>e||e<=-.7?(r.setSwipeAnimationSpeed(),r.next()):n.x>r.swipe_velocity||.7<=e?(r.setSwipeAnimationSpeed(),r.prev()):r.returnSwipedSlide(),a=!1)},!1),this.$element.addClass("vc_build"),this};var e=t.fn.carousel;t.fn.carousel=function(e,s){return this.each(function(){var n=t(this),o=n.data("vc.carousel"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),r="string"==typeof e?e:a.slide;o||n.data("vc.carousel",o=new i(this,a)),"number"==typeof e?o.to(e):r?o[r](s):a.interval&&o.pause().cycle()})},t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=e,this},t(document).off("click.vc.carousel.data-api").on("click.vc.carousel.data-api","[data-slide], [data-slide-to]",function(i){var e,s=t(this),n=t(s.attr("data-target")||(e=s.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},n.data(),s.data()),a=s.attr("data-slide-to");a&&(o.interval=!1),n.carousel(o),(a=s.attr("data-slide-to"))&&n.data("vc.carousel").to(a),i.preventDefault()}),t(window).on("load",function(){t('[data-ride="vc_carousel"]').each(function(){var i=t(this);i.carousel(i.data())})})}(window.jQuery);