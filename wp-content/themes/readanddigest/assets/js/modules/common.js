!function(e){"use strict";function t(){Modernizr.touch&&!eltdf.body.hasClass("eltdf-no-animations-on-touch")&&eltdf.body.addClass("eltdf-no-animations-on-touch")}function o(){navigator.appVersion.toLowerCase().indexOf("mac")>-1&&eltdf.body.hasClass("eltdf-smooth-scroll")&&eltdf.body.removeClass("eltdf-smooth-scroll")}function n(){fluidvids.init({selector:["iframe"],players:["www.youtube.com","player.vimeo.com"]})}function l(){e("audio.eltdf-blog-audio").mediaelementplayer({audioWidth:"100%"})}function i(){var t=e(".eltdf-pg-slider");t.length&&t.each(function(){e(this).flexslider({selector:".eltdf-pg-slides",animation:"fade",controlNav:!1,directionNav:!0,prevText:"<span class='icon-arrows-left'></span>",nextText:"<span class='icon-arrows-right'></span>",slideshowSpeed:6e3,animationSpeed:400})})}function d(){e(".eltdf-preload-background").each(function(){var t=e(this);if(""!==t.css("background-image")&&"none"!=t.css("background-image")){var o=t.attr("style");if(o=o.match(/url\(["']?([^'")]+)['"]?\)/),o=o?o[1]:""){var n=new Image;n.src=o,e(n).load(function(){t.removeClass("eltdf-preload-background")})}}else e(window).load(function(){t.removeClass("eltdf-preload-background")})})}function a(){var t,o,n=e(".eltdf-no-animations-on-touch"),l=!0,i=e(".eltdf-grow-in, .eltdf-fade-in-down, .eltdf-element-from-fade, .eltdf-element-from-left, .eltdf-element-from-right, .eltdf-element-from-top, .eltdf-element-from-bottom, .eltdf-flip-in, .eltdf-x-rotate, .eltdf-z-rotate, .eltdf-y-translate, .eltdf-fade-in, .eltdf-fade-in-left-x-rotate");n.length&&(l=!1),i.length>0&&l&&i.each(function(){var n=e(this);t=n.attr("class").split(/\s+/),o=t[1],n.appear(function(){n.addClass(o+"-on")},{accX:0,accY:eltdfGlobalVars.vars.eltdfElementAppearAmount})})}function r(){e(".eltdf-section .eltdf-video-wrap .eltdf-video").mediaelementplayer({enableKeyboard:!1,iPadUseNativeControls:!1,pauseOtherPlayers:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1}),navigator.userAgent.match(/(Android|iPod|iPhone|iPad|IEMobile|Opera Mini)/)&&(f(),e(".eltdf-section .eltdf-mobile-video-image").show(),e(".eltdf-section .eltdf-video-wrap").remove())}function f(){e(".eltdf-section .eltdf-video-wrap").each(function(){var t=e(this),o=t.closest(".eltdf-section").outerWidth();t.width(o);var n=t.closest(".eltdf-section").outerHeight();eltdf.minVideoWidth=eltdf.videoRatio*(n+20),t.height(n);var l=o/eltdf.videoWidthOriginal,i=n/eltdf.videoHeightOriginal,d=i;l>i&&(d=l),d*eltdf.videoWidthOriginal<eltdf.minVideoWidth&&(d=eltdf.minVideoWidth/eltdf.videoWidthOriginal),t.find("video, .mejs-overlay, .mejs-poster").width(Math.ceil(d*eltdf.videoWidthOriginal+2)),t.find("video, .mejs-overlay, .mejs-poster").height(Math.ceil(d*eltdf.videoHeightOriginal+2)),t.scrollLeft((t.find("video").width()-o)/2),t.find(".mejs-overlay, .mejs-poster").scrollTop((t.find("video").height()-n)/2),t.scrollTop((t.find("video").height()-n)/2)})}function s(e){h(e)}function c(e){for(var t=[37,38,39,40],o=t.length;o--;)if(e.keyCode===t[o])return void h(e)}function h(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}function u(){e(".eltdf-self-hosted-video").mediaelementplayer({audioWidth:"100%"})}function m(){e(".eltdf-self-hosted-video-holder .eltdf-video-wrap").each(function(){var t=e(this),o=t.closest(".eltdf-self-hosted-video-holder").outerWidth(),n=o/eltdf.videoRatio;navigator.userAgent.match(/(Android|iPod|iPhone|iPad|IEMobile|Opera Mini)/)&&(t.parent().width(o),t.parent().height(n)),t.width(o),t.height(n),t.find("video, .mejs-overlay, .mejs-poster").width(o),t.find("video, .mejs-overlay, .mejs-poster").height(n)})}function v(t){var o=e("#eltdf-back-to-top");o.removeClass("off on"),"on"===t?o.addClass("on"):o.addClass("off")}function w(){eltdf.window.scroll(function(){var t=e(this).scrollTop(),o=e(this).height();v((t>0?t+o/2:1)<1e3?"off":"on")})}function p(){e("#eltdf-back-to-top").on("click",function(e){e.preventDefault(),eltdf.html.animate({scrollTop:0},eltdf.window.scrollTop()/5,"linear")})}function g(){e(".eltdf-parallax-section-holder").length&&e(".eltdf-parallax-section-holder").each(function(){var t=e(this),o=.4*t.data("eltdf-parallax-speed");t.parallax("50%",o)})}var y={};eltdf.modules.common=y,y.eltdfIsTouchDevice=t,y.eltdfDisableSmoothScrollForMac=o,y.eltdfInitAudioPlayer=l,y.eltdfPostGallerySlider=i,y.eltdfFluidVideo=n,y.eltdfPreloadBackgrounds=d,y.eltdfEnableScroll=function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",s,!1),window.onmousewheel=document.onmousewheel=document.onkeydown=null,eltdf.body.hasClass("eltdf-smooth-scroll")&&(window.addEventListener("mousewheel",smoothScrollListener,!1),window.addEventListener("DOMMouseScroll",smoothScrollListener,!1))},y.eltdfDisableScroll=function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",s,!1),window.onmousewheel=document.onmousewheel=s,document.onkeydown=c,eltdf.body.hasClass("eltdf-smooth-scroll")&&(window.removeEventListener("mousewheel",smoothScrollListener,!1),window.removeEventListener("DOMMouseScroll",smoothScrollListener,!1))},y.eltdfWheel=s,y.eltdfKeydown=c,y.eltdfPreventDefaultValue=h,y.eltdfInitSelfHostedVideoPlayer=u,y.eltdfSelfHostedVideoSize=m,y.eltdfInitBackToTop=p,y.eltdfBackButtonShowHide=w,y.eltdfInitParallax=g,e(document).ready(function(){t(),o(),l(),n(),i(),d(),a(),b().init(),r(),f(),u(),m(),p(),w()}),e(window).resize(function(){f(),m()}),e(window).load(function(){g()});var b=eltdf.modules.common.eltdfInitAnchor=function(){var t=function(t){e(".eltdf-main-menu .eltdf-active-item, .eltdf-mobile-nav .eltdf-active-item, .eltdf-vertical-menu .eltdf-active-item, .eltdf-fullscreen-menu .eltdf-active-item").removeClass("eltdf-active-item"),t.parent().addClass("eltdf-active-item"),e(".eltdf-main-menu a, .eltdf-mobile-nav a, .eltdf-vertical-menu a, .eltdf-fullscreen-menu a").removeClass("current"),t.addClass("current")},o=function(){e("[data-eltdf-anchor]").waypoint(function(o){"down"===o&&t(e("a[href='"+window.location.href.split("#")[0]+"#"+e(this.element).data("eltdf-anchor")+"']"))},{offset:"50%"}),e("[data-eltdf-anchor]").waypoint(function(o){"up"===o&&t(e("a[href='"+window.location.href.split("#")[0]+"#"+e(this.element).data("eltdf-anchor")+"']"))},{offset:function(){return-(e(this.element).outerHeight()-150)}})},n=function(){var t=window.location.hash.split("#")[1];""!==t&&e('[data-eltdf-anchor="'+t+'"]').length>0&&e("a[href='"+window.location.href.split("#")[0]+"#"+t+"'").trigger("click")},l=function(e){return eltdfPerPageVars.vars.eltdfHeaderTransparencyHeight},i=function(){eltdf.document.on("click",".eltdf-main-menu a, .eltdf-mobile-nav a, .eltdf-btn, .eltdf-anchor",function(){var o,n=e(this),i=n.prop("hash").split("#")[1];if(""!==i&&e('[data-eltdf-anchor="'+i+'"]').length>0&&n.attr("href").split("#")[0]==window.location.href.split("#")[0]){e('[data-eltdf-anchor="'+i+'"]').offset().top;return o=e('[data-eltdf-anchor="'+i+'"]').offset().top-l(),t(n),eltdf.html.stop().animate({scrollTop:Math.round(o)},1e3,function(){history.pushState&&history.pushState(null,null,"#"+i)}),!1}})};return{init:function(){e("[data-eltdf-anchor]").length&&(i(),o(),e(window).load(function(){n()}))}}}}(jQuery);